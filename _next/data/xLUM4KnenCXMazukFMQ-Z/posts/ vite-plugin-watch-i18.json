{"pageProps":{"post":{"title":"vite-plugin-watch-i18","date":"2022-12-01","slug":" vite-plugin-watch-i18","author":"Ai.Haibara","content":"<h2 id=\"install\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#install\"><span class=\"icon icon-link\"></span></a>Install</h2>\n<p><code>npm install vite-plugin-watch-i18</code></p>\n<h2 id=\"usage\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#usage\"><span class=\"icon icon-link\"></span></a>Usage</h2>\n<pre><code class=\"hljs language-typescript\"><span class=\"hljs-keyword\">import</span> viteWatchI18Plugin <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'vite-plugin-watch-i18'</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-title function_\">defineConfig</span>({\n  <span class=\"hljs-attr\">plugins</span>: [<span class=\"hljs-title function_\">react</span>(), <span class=\"hljs-title function_\">viteWatchI18Plugin</span>()]\n}\n</code></pre>\n<h2 id=\"prettier-config\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#prettier-config\"><span class=\"icon icon-link\"></span></a>Prettier Config</h2>\n<p>The prettier configuration when the plugin saves the file:</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-variable language_\">module</span>.<span class=\"hljs-property\">exports</span> = {\n  <span class=\"hljs-attr\">tabWidth</span>: <span class=\"hljs-number\">2</span>,\n  <span class=\"hljs-attr\">semi</span>: <span class=\"hljs-literal\">true</span>,\n  <span class=\"hljs-attr\">printWidth</span>: <span class=\"hljs-number\">80</span>,\n  <span class=\"hljs-attr\">trailingComma</span>: <span class=\"hljs-string\">'es5'</span>,\n  <span class=\"hljs-attr\">arrowParens</span>: <span class=\"hljs-string\">'always'</span>,\n  <span class=\"hljs-attr\">proseWrap</span>: <span class=\"hljs-string\">'preserve'</span>,\n  <span class=\"hljs-attr\">useTabs</span>: <span class=\"hljs-literal\">false</span>,\n  <span class=\"hljs-attr\">singleQuote</span>: <span class=\"hljs-literal\">true</span>,\n  <span class=\"hljs-attr\">bracketSpacing</span>: <span class=\"hljs-literal\">true</span>,\n  <span class=\"hljs-attr\">jsxBracketSameLine</span>: <span class=\"hljs-literal\">false</span>,\n};\n\n</code></pre>\n<p>Project synchronization Prettier Config:</p>\n<p>Create prettier.config.js</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-keyword\">const</span> viteWatchI18nPrettierConfig = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">'vite-plugin-watch-i18/dist/prettier.config'</span>);\n<span class=\"hljs-variable language_\">module</span>.<span class=\"hljs-property\">exports</span> = {\n  <span class=\"hljs-attr\">plugins</span>: [],\n  ...viteWatchI18nPrettierConfig,\n};\n\n</code></pre>\n<h2 id=\"options\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#options\"><span class=\"icon icon-link\"></span></a>Options</h2>\n<table>\n<thead>\n<tr>\n<th align=\"center\">name</th>\n<th align=\"center\">defaultValue</th>\n<th align=\"center\">type</th>\n<th align=\"center\">description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">funName</td>\n<td align=\"center\">t</td>\n<td align=\"center\">string</td>\n<td align=\"center\">function call name</td>\n</tr>\n<tr>\n<td align=\"center\">splitCode</td>\n<td align=\"center\">#</td>\n<td align=\"center\">string</td>\n<td align=\"center\">split code</td>\n</tr>\n<tr>\n<td align=\"center\">languageDir</td>\n<td align=\"center\">['locale/zh-CN', 'locale/en-US']</td>\n<td align=\"center\">string[]</td>\n<td align=\"center\">language package path</td>\n</tr>\n<tr>\n<td align=\"center\">include</td>\n<td align=\"center\">['src/**/*.{js,jsx,ts,tsx}', '!src/**/*.d.ts']</td>\n<td align=\"center\">string[]</td>\n<td align=\"center\">include directory</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"warn\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#warn\"><span class=\"icon icon-link\"></span></a>Warn</h2>\n<p><strong>Currently only supports locale file format</strong>:</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> {\n  <span class=\"hljs-attr\">index</span>: {\n    <span class=\"hljs-attr\">confirm</span>: <span class=\"hljs-string\">'确认'</span>,\n  },\n};\n</code></pre>\n<p><strong>Not supports</strong>:</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">Locale</span> = {\n  <span class=\"hljs-attr\">index</span>: {\n    <span class=\"hljs-attr\">confirm</span>: <span class=\"hljs-string\">'确认'</span>,\n  },\n};\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-title class_\">Locale</span>;\n</code></pre>\n<p><strong>The default export file of the language pack is index.ts or index.js</strong></p>\n<h2 id=\"example\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#example\"><span class=\"icon icon-link\"></span></a>Example</h2>\n<h2 id=\"add\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#add\"><span class=\"icon icon-link\"></span></a>Add</h2>\n<p><img src=\"https://raw.githubusercontent.com/LZS911/LZS911.github.io/backend-main/assets/images/vite-plugin/watch-i18/example/add.gif\" alt=\"example\"></p>\n<h2 id=\"modify\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#modify\"><span class=\"icon icon-link\"></span></a>Modify</h2>\n<p><img src=\"https://raw.githubusercontent.com/LZS911/LZS911.github.io/backend-main/assets/images/vite-plugin/watch-i18/example/modify.gif\" alt=\"example\"></p>\n<h2 id=\"new-locale\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#new-locale\"><span class=\"icon icon-link\"></span></a>New Locale</h2>\n<p><img src=\"https://raw.githubusercontent.com/LZS911/LZS911.github.io/backend-main/assets/images/vite-plugin/watch-i18/example/new.gif\" alt=\"example\"></p>\n<h2 id=\"param\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#param\"><span class=\"icon icon-link\"></span></a>Param</h2>\n<p><img src=\"https://raw.githubusercontent.com/LZS911/LZS911.github.io/backend-main/assets/images/vite-plugin/watch-i18/example/param.gif\" alt=\"example\"></p>","ogImage":{"url":"/assets/blog/image/cover.jpg"},"coverImage":"/assets/blog/image/cover.jpg","tag":[null]}},"__N_SSG":true}