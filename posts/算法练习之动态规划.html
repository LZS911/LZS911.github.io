<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/569ce4b8f30dc480-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/afd685b2833157f9.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-6281654836ffc620.js"/><script src="/_next/static/chunks/4bd1b696-66c7c23a79af63cb.js" async=""></script><script src="/_next/static/chunks/684-2dd5576fde2f1aef.js" async=""></script><script src="/_next/static/chunks/main-app-8a63285bca825cb3.js" async=""></script><script src="/_next/static/chunks/874-90f68e0a3827b559.js" async=""></script><script src="/_next/static/chunks/app/error-d036ecfd03716e30.js" async=""></script><script src="/_next/static/chunks/app/not-found-2113bbd7a2f55e8f.js" async=""></script><script src="/_next/static/chunks/app/loading-b73dd9bd22c3caa2.js" async=""></script><script src="/_next/static/chunks/766-dfd76e5b111fda64.js" async=""></script><script src="/_next/static/chunks/app/(article)/layout-120a8801c6045af4.js" async=""></script><script src="/_next/static/chunks/62-abd5adcc4de2f71a.js" async=""></script><script src="/_next/static/chunks/app/(article)/posts/%5Bslug%5D/page-3df7d22b1edb27cc.js" async=""></script><meta name="next-size-adjust" content=""/><title>Ai.Haibara codes</title><meta name="description" content="LZS Blog"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="96x96"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_5cfdac __variable_9a8899 antialiased"><!--$--><html lang="en"><body class="__variable_5cfdac __variable_9a8899 antialiased"><div class="min-h-screen"><header class="text-white bg-black drop-shadow-2xl"><div class="mx-auto my-0 max-w-[960px] py-6 px-4 flex items-center"><div class="flex items-center"><img alt="Ai.Haibara" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class=" rounded-full" style="color:transparent" srcSet="/_next/image?url=%2Fassets%2Fblog%2Fauthors%2Fhaibara_2.jpg&amp;w=128&amp;q=75 1x, /_next/image?url=%2Fassets%2Fblog%2Fauthors%2Fhaibara_2.jpg&amp;w=256&amp;q=75 2x" src="/_next/image?url=%2Fassets%2Fblog%2Fauthors%2Fhaibara_2.jpg&amp;w=256&amp;q=75"/></div><div class="ml-6"><a class=" font-bold text-3xl" href="/">Ai.Haibara codes</a><div class="mt-2"><a class="p-1 rounded-sm text-xl mr-2 hover:border-b-2 border-lime-300" href="/">Home</a><a class="p-1 rounded-sm text-xl mr-2 hover:border-b-2 border-lime-300" href="/projects">Projects</a><a class="p-1 rounded-sm text-xl mr-2 hover:border-b-2 border-lime-300" href="/talks">Talks</a><a class="p-1 rounded-sm text-xl mr-2 hover:border-b-2 border-lime-300" href="/blogs">Blogs</a></div></div></div></header><main class="p-6 flex justify-center"><article><div class="flex justify-center font-[Arial] max-w-[864px] text-center"><h1 class="text-[2.5rem] font-bold bg-lime-300 px-5 py-2 rounded-sm text-shadow-lg leading-[1.1]">算法练习之动态规划</h1></div><time dateTime="2021-11-12" class="text-center block my-4 text-sm opacity-60">November	12, 2021</time><section class="markdown-body-awesome-green max-w-3xl"><h3 id="粉刷房间"><a aria-hidden="true" tabindex="-1" href="#粉刷房间"><span class="icon icon-link"></span></a>粉刷房间</h3>
<hr>
<h4 id="题目描述"><a aria-hidden="true" tabindex="-1" href="#题目描述"><span class="icon icon-link"></span></a>题目描述</h4>
<pre><code>假如有一排房子，共 n 个，每个房子可以被粉刷成红色、蓝色或者绿色这三种颜色中的一种，你需要粉刷所有的房子并且使其相邻的两个房子颜色不能相同。

当然，因为市场上不同颜色油漆的价格不同，所以房子粉刷成不同颜色的花费成本也是不同的。每个房子粉刷成不同颜色的花费是以一个 n x 3 的正整数矩阵 costs 来表示的。

例如，costs[0][0] 表示第 0 号房子粉刷成红色的成本花费；costs[1][2] 表示第 1 号房子粉刷成绿色的花费，以此类推。

请计算出粉刷完所有房子最少的花费成本。
</code></pre>
<h4 id="解题思路"><a aria-hidden="true" tabindex="-1" href="#解题思路"><span class="icon icon-link"></span></a>解题思路</h4>
<ol>
<li>递归暴力法</li>
</ol>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">minCost</span>(<span class="hljs-params"><span class="hljs-attr">costs</span>: <span class="hljs-built_in">number</span>[][]</span>) {
  <span class="hljs-keyword">const</span> len = costs.<span class="hljs-property">length</span>;

  <span class="hljs-keyword">if</span> (len === <span class="hljs-number">1</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(...costs[<span class="hljs-number">0</span>]);
  }

  <span class="hljs-keyword">const</span> fn = (<span class="hljs-attr">prevIndex</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">res</span>: <span class="hljs-built_in">number</span>): <span class="hljs-function"><span class="hljs-params">number</span> =></span> {
    <span class="hljs-keyword">if</span> (count === len) {
      <span class="hljs-keyword">return</span> res;
    }
    <span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&#x3C;<span class="hljs-built_in">number</span>, <span class="hljs-built_in">number</span>[]>([
      [<span class="hljs-number">0</span>, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]],
      [<span class="hljs-number">1</span>, [<span class="hljs-number">0</span>, <span class="hljs-number">2</span>]],
      [<span class="hljs-number">2</span>, [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]],
    ]);
    <span class="hljs-keyword">const</span> arr = map.<span class="hljs-title function_">get</span>(prevIndex)!;
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(...arr.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">v</span>) =></span> <span class="hljs-title function_">fn</span>(v, count + <span class="hljs-number">1</span>, res + costs[count][v])));
  };

  <span class="hljs-keyword">const</span> r = <span class="hljs-title function_">fn</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, costs[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]);
  <span class="hljs-keyword">const</span> g = <span class="hljs-title function_">fn</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, costs[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]);
  <span class="hljs-keyword">const</span> b = <span class="hljs-title function_">fn</span>(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, costs[<span class="hljs-number">0</span>][<span class="hljs-number">2</span>]);
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(r, g, b);
}
</code></pre>
<p>不需要思考任何算法的一种方式, 直接递归计算出所有可能, 但是中间会包含很多重复计算, 执行 <code>LeetCode</code> 测试时会超时. 所以需要进一步思考最优解.</p>
<ol start="2">
<li>动态规划</li>
</ol>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">minCost</span>(<span class="hljs-params"><span class="hljs-attr">costs</span>: <span class="hljs-built_in">number</span>[][]</span>) {
  <span class="hljs-keyword">let</span> [r, b, g] = costs[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &#x3C; costs.<span class="hljs-property">length</span>; ++i) {
    [r, b, g] = [
      <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(b, g) + costs[i][<span class="hljs-number">0</span>],
      <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(r, g) + costs[i][<span class="hljs-number">1</span>],
      <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(r, b) + costs[i][<span class="hljs-number">2</span>],
    ];
  }
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(r, g, b);
}
</code></pre>
<p>大致思路:</p>
<ol>
<li>定义变量 r、b、g 分别表示粉刷至某一间房时红色、蓝色、绿色所需粉刷的最小花费</li>
</ol>
<ul>
<li>let [r, b, g] = costs[0] 即表示粉刷第一间时的最小花费</li>
</ul>
<ol start="2">
<li>从第二间房开始遍历, 第二间房可粉刷三种任意颜色, 但限制条件为粉刷红色时, 前一间房子的粉刷只能为绿色或蓝色, 依次类推, 得到</li>
</ol>
<pre><code class="hljs language-typescript">[r, b, g] = [
  <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(b, g) + costs[i][<span class="hljs-number">0</span>],
  <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(r, g) + costs[i][<span class="hljs-number">1</span>],
  <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(r, b) + costs[i][<span class="hljs-number">2</span>],
];
</code></pre>
<p><strong>这里使用了 ES6 的数组解构, 类似于对象解构, 赋值语句左侧为粉刷到第 <code>i</code> 间房对应某一种颜色时的总最小花费, 右侧 <code>Math.min(b, g)</code> 表示粉刷到上一间房使用蓝色或绿色时的最小花费, <code>costs[i][0]</code> 表示粉刷第 <code>i</code>间房时使用红色的情况, 然后继续赋值给 r, 后续依次类推. 当循环结束时, 最后得到的 <code>r、b、g</code> 即为最后一间房子粉刷某一种情况的总花费, 最后返回最小值即可.</strong></p>
<hr>
<h3 id="todo持续更新"><a aria-hidden="true" tabindex="-1" href="#todo持续更新"><span class="icon icon-link"></span></a>.........<em>todo(持续更新)</em></h3></section></article><!--$--><!--/$--><!--$--><!--/$--></main><footer class="bg-neutral-50 border-t border-neutral-200 text-center text-xs opacity-50 py-4">© 2022 - <!-- -->2025<a rel="noopener noreferrer" class="hover:underline hover:bg-indigo" href="https://github.com/LZS911" target="_blank">, LZS_911</a>, build with<!-- --> <a rel="noopener noreferrer" class="underline hover:bg-indigo" href="https://nextjs.org/" target="_blank">Next.js</a> <!-- -->and<!-- --> <a rel="noopener noreferrer" class="underline hover:bg-indigo" href="https://pages.github.com/?(null)" target="_blank">GitHub Pages</a></footer></div><!--/$--><script src="/_next/static/chunks/webpack-6281654836ffc620.js" async=""></script></body></html><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[7555,[],\"\"]\n3:I[1901,[\"874\",\"static/chunks/874-90f68e0a3827b559.js\",\"39\",\"static/chunks/app/error-d036ecfd03716e30.js\"],\"default\"]\n4:I[1295,[],\"\"]\n5:I[9543,[\"874\",\"static/chunks/874-90f68e0a3827b559.js\",\"345\",\"static/chunks/app/not-found-2113bbd7a2f55e8f.js\"],\"default\"]\n8:I[9665,[],\"MetadataBoundary\"]\na:I[9665,[],\"OutletBoundary\"]\nd:I[4911,[],\"AsyncMetadataOutlet\"]\nf:I[8460,[\"209\",\"static/chunks/app/loading-b73dd9bd22c3caa2.js\"],\"default\"]\n10:I[9665,[],\"ViewportBoundary\"]\n12:I[6614,[],\"\"]\n:HL[\"/_next/static/media/569ce4b8f30dc480-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/afd685b2833157f9.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"F63JTs1PA5XvAzvJlmBBT\",\"p\":\"\",\"c\":[\"\",\"posts\",\"%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0%E4%B9%8B%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"(article)\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0%E4%B9%8B%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/afd685b2833157f9.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_5cfdac __variable_9a8899 antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$3\",\"errorStyles\":[],\"errorScripts\":[],\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"$L5\",null,{}],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[\"(article)\",[\"$\",\"$1\",\"c\",{\"children\":[null,\"$L6\"]}],{\"children\":[\"posts\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0%E4%B9%8B%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L7\",[\"$\",\"$L8\",null,{\"children\":\"$L9\"}],null,[\"$\",\"$La\",null,{\"children\":[\"$Lb\",\"$Lc\",[\"$\",\"$Ld\",null,{\"promise\":\"$@e\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false]},[[\"$\",\"$Lf\",\"l\",{}],[],[]],false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"5YG-Y1cx6TzkpbiwbOXD8\",{\"children\":[[\"$\",\"$L10\",null,{\"children\":\"$L11\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$12\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"13:I[4467,[\"874\",\"static/chunks/874-90f68e0a3827b559.js\",\"766\",\"static/chunks/766-dfd76e5b111fda64.js\",\"651\",\"static/chunks/app/(article)/layout-120a8801c6045af4.js\"],\"default\"]\n14:\"$Sreact.suspense\"\n15:I[4911,[],\"AsyncMetadata\"]\n6:[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_5cfdac __variable_9a8899 antialiased\",\"children\":[[\"$\",\"div\",null,{\"className\":\"min-h-screen\",\"children\":[[\"$\",\"$L13\",null,{}],[\"$\",\"main\",null,{\"className\":\"p-6 flex justify-center\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"footer\",null,{\"className\":\"bg-neutral-50 border-t border-neutral-200 text-center text-xs opacity-50 py-4\",\"children\":[\"© 2022 - \",2025,[\"$\",\"a\",null,{\"rel\":\"noopener noreferrer\",\"className\":\"hover:underline hover:bg-indigo\",\"href\":\"https://github.com/LZS911\",\"target\":\"_blank\",\"children\":\", LZS_911\"}],\", build with\",\" \",[\"$\",\"a\",null,{\"rel\":\"noopener noreferrer\",\"className\":\"underline hover:bg-indigo\",\"href\":\"https://nextjs.org/\",\"target\":\"_blank\",\"children\":\"Next.js\"}],\" \",\"and\",\" \",[\"$\",\"a\",null,{\"rel\":\"noopener noreferrer\",\"className\":\"underline hover:bg-indigo\",\"href\":\"https://pages.github.com/?(null)\",\"target\":\"_blank\",\"children\":\"GitHub Pages\"}]]}]]}],false]}]}]\n9:[\"$\",\"$14\",null,{\"fallback\":null,\"children\":[\"$\",\"$L15\",null,{\"promise\":\"$@16\"}]}]\n"])</script><script>self.__next_f.push([1,"c:null\n"])</script><script>self.__next_f.push([1,"17:I[5099,[\"766\",\"static/chunks/766-dfd76e5b111fda64.js\",\"62\",\"static/chunks/62-abd5adcc4de2f71a.js\",\"520\",\"static/chunks/app/(article)/posts/%5Bslug%5D/page-3df7d22b1edb27cc.js\"],\"ThemeLoader\"]\n18:T1cb4,"])</script><script>self.__next_f.push([1,"\u003ch3 id=\"粉刷房间\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#粉刷房间\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e粉刷房间\u003c/h3\u003e\n\u003chr\u003e\n\u003ch4 id=\"题目描述\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#题目描述\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e题目描述\u003c/h4\u003e\n\u003cpre\u003e\u003ccode\u003e假如有一排房子，共 n 个，每个房子可以被粉刷成红色、蓝色或者绿色这三种颜色中的一种，你需要粉刷所有的房子并且使其相邻的两个房子颜色不能相同。\n\n当然，因为市场上不同颜色油漆的价格不同，所以房子粉刷成不同颜色的花费成本也是不同的。每个房子粉刷成不同颜色的花费是以一个 n x 3 的正整数矩阵 costs 来表示的。\n\n例如，costs[0][0] 表示第 0 号房子粉刷成红色的成本花费；costs[1][2] 表示第 1 号房子粉刷成绿色的花费，以此类推。\n\n请计算出粉刷完所有房子最少的花费成本。\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"解题思路\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#解题思路\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e解题思路\u003c/h4\u003e\n\u003col\u003e\n\u003cli\u003e递归暴力法\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-typescript\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eminCost\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-attr\"\u003ecosts\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003enumber\u003c/span\u003e[][]\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e len = costs.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (len === \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003emin\u003c/span\u003e(...costs[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e]);\n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e fn = (\u003cspan class=\"hljs-attr\"\u003eprevIndex\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003enumber\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003ecount\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003enumber\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003eres\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003enumber\u003c/span\u003e): \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003enumber\u003c/span\u003e =\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (count === len) {\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e res;\n    }\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e map = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMap\u003c/span\u003e\u0026#x3C;\u003cspan class=\"hljs-built_in\"\u003enumber\u003c/span\u003e, \u003cspan class=\"hljs-built_in\"\u003enumber\u003c/span\u003e[]\u003e([\n      [\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, [\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e]],\n      [\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, [\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e]],\n      [\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e, [\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e]],\n    ]);\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e arr = map.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(prevIndex)!;\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003emin\u003c/span\u003e(...arr.\u003cspan class=\"hljs-title function_\"\u003emap\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ev\u003c/span\u003e) =\u003e\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efn\u003c/span\u003e(v, count + \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, res + costs[count][v])));\n  };\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e r = \u003cspan class=\"hljs-title function_\"\u003efn\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, costs[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e]);\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e g = \u003cspan class=\"hljs-title function_\"\u003efn\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, costs[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e]);\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e b = \u003cspan class=\"hljs-title function_\"\u003efn\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, costs[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e]);\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003emin\u003c/span\u003e(r, g, b);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e不需要思考任何算法的一种方式, 直接递归计算出所有可能, 但是中间会包含很多重复计算, 执行 \u003ccode\u003eLeetCode\u003c/code\u003e 测试时会超时. 所以需要进一步思考最优解.\u003c/p\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003e动态规划\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-typescript\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eminCost\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-attr\"\u003ecosts\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003enumber\u003c/span\u003e[][]\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e [r, b, g] = costs[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e];\n  \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e i = \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e; i \u0026#x3C; costs.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e; ++i) {\n    [r, b, g] = [\n      \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003emin\u003c/span\u003e(b, g) + costs[i][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e],\n      \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003emin\u003c/span\u003e(r, g) + costs[i][\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e],\n      \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003emin\u003c/span\u003e(r, b) + costs[i][\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e],\n    ];\n  }\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003emin\u003c/span\u003e(r, g, b);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e大致思路:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e定义变量 r、b、g 分别表示粉刷至某一间房时红色、蓝色、绿色所需粉刷的最小花费\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003elet [r, b, g] = costs[0] 即表示粉刷第一间时的最小花费\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003e从第二间房开始遍历, 第二间房可粉刷三种任意颜色, 但限制条件为粉刷红色时, 前一间房子的粉刷只能为绿色或蓝色, 依次类推, 得到\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-typescript\"\u003e[r, b, g] = [\n  \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003emin\u003c/span\u003e(b, g) + costs[i][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e],\n  \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003emin\u003c/span\u003e(r, g) + costs[i][\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e],\n  \u003cspan class=\"hljs-title class_\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003emin\u003c/span\u003e(r, b) + costs[i][\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e],\n];\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e这里使用了 ES6 的数组解构, 类似于对象解构, 赋值语句左侧为粉刷到第 \u003ccode\u003ei\u003c/code\u003e 间房对应某一种颜色时的总最小花费, 右侧 \u003ccode\u003eMath.min(b, g)\u003c/code\u003e 表示粉刷到上一间房使用蓝色或绿色时的最小花费, \u003ccode\u003ecosts[i][0]\u003c/code\u003e 表示粉刷第 \u003ccode\u003ei\u003c/code\u003e间房时使用红色的情况, 然后继续赋值给 r, 后续依次类推. 当循环结束时, 最后得到的 \u003ccode\u003er、b、g\u003c/code\u003e 即为最后一间房子粉刷某一种情况的总花费, 最后返回最小值即可.\u003c/strong\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"todo持续更新\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#todo持续更新\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e.........\u003cem\u003etodo(持续更新)\u003c/em\u003e\u003c/h3\u003e"])</script><script>self.__next_f.push([1,"7:[\"$\",\"article\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"flex justify-center font-[Arial] max-w-[864px] text-center\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-[2.5rem] font-bold bg-lime-300 px-5 py-2 rounded-sm text-shadow-lg leading-[1.1]\",\"children\":\"算法练习之动态规划\"}]}],[\"$\",\"time\",null,{\"dateTime\":\"2021-11-12\",\"className\":\"text-center block my-4 text-sm opacity-60\",\"children\":\"November\\t12, 2021\"}],[null,[\"$\",\"$L17\",null,{\"theme\":\"awesome-green\"}],[\"$\",\"section\",null,{\"className\":\"markdown-body-awesome-green max-w-3xl\",\"dangerouslySetInnerHTML\":{\"__html\":\"$18\"}}]],null]}]\n"])</script><script>self.__next_f.push([1,"11:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nb:null\n"])</script><script>self.__next_f.push([1,"16:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Ai.Haibara codes\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"LZS Blog\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"96x96\"}]],\"error\":null,\"digest\":\"$undefined\"}\ne:{\"metadata\":\"$16:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>