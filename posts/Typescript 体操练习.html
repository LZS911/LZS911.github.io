<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><title>Typescript 体操练习 | Ai.Haibara codes</title><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/cbc0135ff184ccab.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cbc0135ff184ccab.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer=""></script><script src="/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/_next/static/chunks/main-59a90320855f5cf5.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f46e289d7ac5e197.js" defer=""></script><script src="/_next/static/chunks/799-575b46febca3af7d.js" defer=""></script><script src="/_next/static/chunks/399-cac0cd8ed02bf02a.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-ca05212d4081d62f.js" defer=""></script><script src="/_next/static/Ui9c1tvbCZqwLBXz9Q3na/_buildManifest.js" defer=""></script><script src="/_next/static/Ui9c1tvbCZqwLBXz9Q3na/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen"><header class="text-white bg-black drop-shadow-2xl"><div class="mx-auto my-0 max-w-[960px] py-6 px-4 flex items-center"><div class="flex items-center"><img alt="Ai.Haibara" src="/assets/blog/authors/haibara_2.jpg" width="100" height="100" decoding="async" data-nimg="1" class=" rounded-full" loading="lazy" style="color:transparent"/></div><div class="ml-6"><a class=" font-bold text-3xl" href="/">Ai.Haibara codes</a><div class="mt-2"><a class="p-1 rounded-sm text-xl mr-2 hover:border-b-2 border-indigo" href="/">Home</a><a class="p-1 rounded-sm text-xl mr-2 hover:border-b-2 border-indigo" href="/projects">Projects</a><a class="p-1 rounded-sm text-xl mr-2 hover:border-b-2 border-indigo" href="/talks">Talks</a><a class="p-1 rounded-sm text-xl mr-2 hover:border-b-2 border-indigo" href="/blogs">Blogs</a></div></div></div></header><main class="p-6 flex justify-center"><article><div class="flex justify-center font-[Arial]"><h1 class="text-5xl font-bold bg-indigo px-5 py-2 rounded-sm text-shadow-lg leading-[1.1]">Typescript 体操练习</h1></div><time dateTime="2022-09-26" class="text-center block my-4 text-sm opacity-60">September	26, 2022</time><section><div class="markdown-body-fancy max-w-3xl"><h2 id="1-将下划线模式的-string-类型转化成驼峰类型"><a aria-hidden="true" tabindex="-1" href="#1-将下划线模式的-string-类型转化成驼峰类型"><span class="icon icon-link"></span></a>1. 将下划线模式的 string 类型转化成驼峰类型</h2>
<pre><code class="language-Typescript">type TransformToCamelCase&#x3C;T extends string> =
  T extends `${infer Left}_${infer Rest}`
    ? `${Left}${TransformToCamelCase&#x3C;Capitalize&#x3C;Rest>>}`
    : T;

</code></pre>
<p><img src="/assets/typescript/example-1.png" alt="alt"></p>
<p>注意点:</p>
<p>需要递归继续处理剩余的部分.</p>
<h3 id="应用-当服务端定义的实体中的-key-的模式为下环线-但前端代码中需要使用驼峰模式时"><a aria-hidden="true" tabindex="-1" href="#应用-当服务端定义的实体中的-key-的模式为下环线-但前端代码中需要使用驼峰模式时"><span class="icon icon-link"></span></a>应用: 当服务端定义的实体中的 <code>key</code> 的模式为下环线, 但前端代码中需要使用驼峰模式时</h3>
<p>实现:</p>
<pre><code class="language-Typescript">type CamelCase&#x3C;T extends Record&#x3C;string, any>> = T extends any
  ? {
      [key in keyof T as TransformToCamelCase&#x3C;
        key &#x26; string
      >]: T[key] extends Array&#x3C;infer Element>
        ? Array&#x3C;
            Element extends string
              ? TransformToCamelCase&#x3C;Element>
              : CamelCase&#x3C;Element>
          >
        : T[key] extends Record&#x3C;string, any>
        ? CamelCase&#x3C;T[key]>
        : T[key];
    }
  : never;
</code></pre>
<p><img src="/assets/typescript/example-2.png" alt="alt"></p>
<p>注意点:</p>
<ol>
<li>当某项 <code>key</code> 的类型仍然满足 <code>Record&#x3C;string, any></code> 时, 需要递归继续.</li>
<li>因为 <code>Typescript</code> 不会去计算递归中的表达式, 所以需要加上一个一定为 <code>true</code> 的判断, 让他去执行, 也就是 <code>T extends any</code>.</li>
<li>需要注意 <code>Array</code> 的情况.</li>
</ol>
<h2 id="2-将索引类型转化为联合类型"><a aria-hidden="true" tabindex="-1" href="#2-将索引类型转化为联合类型"><span class="icon icon-link"></span></a>2. 将索引类型转化为联合类型</h2>
<ul>
<li>索引类型是一个聚合了多个元素的类型，对象、类、元组等都是索引类型, 举个栗子:</li>
</ul>
<pre><code class="language-Typescript">type ExampleType = {
  name: string;
  sex: boolean;
  age: number;
  hobbies: string[];
}
</code></pre>
<ul>
<li>联合类型. 顾名思义, 它是一个联合了多种类型的集合, 取值可以取其中任意一种类型.</li>
</ul>
<pre><code class="language-Typescript">type UnionTypes = { name: string } | { sex: boolean } | { age: number} | { hobbies: string[] };
</code></pre>
<ul>
<li>
<p>需求: 实现一个工具类, 将 <code>ExampleType</code> 转化为 <code>UnionTypes</code></p>
</li>
<li>
<p>实现:</p>
<pre><code class="language-Typescript">type SpiltObj&#x3C;T> = {
  [key in keyof T]: {
    [key2 in key]:T[key2]
  }
}[keyof T]
</code></pre>
</li>
<li>
<p>拆分, 先看第一部分</p>
<pre><code class="language-Typescript">type SpiltObj&#x3C;T> = {
  [key in keyof T]: {
    [key2 in key]:T[key2]
  }
}
</code></pre>
<pre><code class="language-Typescript">  type Res1 = SpiltObj&#x3C;ExampleType>
</code></pre>
<p><img src="/assets/typescript/example-3.png" alt="alt"></p>
<p>第二部分</p>
<pre><code class="language-Typescript">  type ExampleType = {
    name: string;
    sex: boolean;
    age: number;
    hobbies: string[];
  }

  type Res2 = ExampleType[keyof ExampleType]
</code></pre>
<p><img src="/assets/typescript/example-4.png" alt="alt"></p>
</li>
<li>
<p>拓展, 实现一个工具类, 拿到索性类型键值路径的联合类型</p>
<pre><code class="language-Typescript">type Template = {
  aa: {
    bb: string;
  };
  cc: number;
  dd: {
    ee: {
      ff: string;
    }
  };
  gg: {
    hh: number
  };
}

type TemplateKeyPath&#x3C;T> ={
   [key in keyof T]: key extends string ? T[key] extends Record&#x3C;string, any> ? key | `${key}.${TemplateKeyPath&#x3C;T[key]>}` : key : never;
}[keyof T]

type Res3 = TemplateKeyPath&#x3C;Template>
</code></pre>
<p><img src="/assets/typescript/example-5.png" alt="alt"></p>
</li>
</ul>
<h2 id="3-使用数组长度进行数值计算"><a aria-hidden="true" tabindex="-1" href="#3-使用数组长度进行数值计算"><span class="icon icon-link"></span></a>3. 使用数组长度进行数值计算</h2>
<p>Typescript 本身是没有加减乘除运算符的, 所以需要取巧来处理数值的计算.</p>
<p>利用构造数组, 然后获取它的 <code>length</code>.</p>
<p><strong>注: 因为数组长度不会为负数, 所以这里做的数值计算只包含正整数</strong></p>
<p><img src="/assets/typescript/example-6.png" alt="alt"></p>
<p>实现运算方法之前, 先实现一个构造数组的工具类</p>
<pre><code class="language-Typescript">type BuildArray&#x3C;
  Length extends number,
  Element = unknown,
  Array extends unknown[] = []
> = Array['length'] extends Length
  ? Array
  : BuildArray&#x3C;Length, Element, [Element, ...Array]>;

</code></pre>
<p><img src="/assets/typescript/example-7.png" alt="alt"></p>
<p><code>BuildArray</code> 接收三个泛形, 其中第一个参数 <code>Length</code> 为需要构造出来的数组长度, <code>Element</code> 为数组类的元素类型, 默认值为 <code>unknown</code>, <code>Array</code> 为返回结果, 用来递归处理. 如果将其转化为 <code>javascript</code> 代码, 大致如下:</p>
<pre><code class="language-javascript">const buildArray = (length, element, arr = []) => {
  if (length === arr.length) {
    return arr;
  }

  return buildArray(length, element, [element, ...arr]);
};
</code></pre>
<h3 id="加法运算"><a aria-hidden="true" tabindex="-1" href="#加法运算"><span class="icon icon-link"></span></a>加法运算</h3>
<pre><code class="language-typescript">type Add&#x3C;Num1 extends number, Num2 extends number> = [...BuildArray&#x3C;Num1>, ...BuildArray&#x3C;Num2>]['length']
</code></pre>
<p><img src="/assets/typescript/example-8.png" alt="alt"></p>
<p><img src="/assets/typescript/example-9.png" alt="alt"></p>
<h3 id="减法运算"><a aria-hidden="true" tabindex="-1" href="#减法运算"><span class="icon icon-link"></span></a>减法运算</h3>
<pre><code class="language-typescript">type Subtract&#x3C;
  Num1 extends number,
  Num2 extends number
> = BuildArray&#x3C;Num1> extends [...arr1: BuildArray&#x3C;Num2>, ...arr2: infer Rest]
  ? Rest['length']
  : never;

</code></pre>
<p><img src="/assets/typescript/example-10.png" alt="alt"></p>
<p><img src="/assets/typescript/example-11.png" alt="alt"></p>
<h3 id="乘法运算"><a aria-hidden="true" tabindex="-1" href="#乘法运算"><span class="icon icon-link"></span></a>乘法运算</h3>
<pre><code class="language-typescript">type Multiply&#x3C;
  Num1 extends number,
  Num2 extends number,
  ResultArray extends unknown[] = []
> = Num2 extends 0
  ? ResultArray['length']
  : Multiply&#x3C;Num1, Subtract&#x3C;Num2, 1>, [...BuildArray&#x3C;Num1>, ...ResultArray]>;
</code></pre>
<p><img src="/assets/typescript/example-12.png" alt="alt"></p>
<p><img src="/assets/typescript/example-13.png" alt="alt"></p>
<h3 id="除法运算"><a aria-hidden="true" tabindex="-1" href="#除法运算"><span class="icon icon-link"></span></a>除法运算</h3>
<pre><code class="language-typescript">type Divide&#x3C;
  Num1 extends number,
  Num2 extends number,
  ResultArray extends unknown[] = []
> = Num1 extends 0
  ? ResultArray['length']
  : Divide&#x3C;Subtract&#x3C;Num1, Num2>, Num2, [unknown, ...ResultArray]>; 
  // [unknown, ...ResultArray] => [...BuildArray&#x3C;Add&#x3C;ResultArray['length'], 1> &#x26; number>]

</code></pre>
<p><img src="/assets/typescript/example-14.png" alt="alt"></p>
<p><img src="/assets/typescript/example-15.png" alt="alt"></p>
<h2 id="4-判断两个正整数的大小"><a aria-hidden="true" tabindex="-1" href="#4-判断两个正整数的大小"><span class="icon icon-link"></span></a>4. 判断两个正整数的大小</h2>
<h3 id="比较是否相等"><a aria-hidden="true" tabindex="-1" href="#比较是否相等"><span class="icon icon-link"></span></a>比较是否相等</h3>
<pre><code class="language-typescript">type NumberIsEqual&#x3C;Num1 extends number, Num2 extends number> = Num1 extends Num2 ? true : false;
</code></pre>
<p><img src="/assets/typescript/example-16.png" alt="alt"></p>
<p><img src="/assets/typescript/example-17.png" alt="alt"></p>
<h3 id="判断是否大于"><a aria-hidden="true" tabindex="-1" href="#判断是否大于"><span class="icon icon-link"></span></a>判断是否大于</h3>
<p>大致思路: 利用构造数组, 递归对构造出来的数组进行 Pop 操作, 通过判断数组的长度是否为 0 来确定大小.</p>
<p>在开始实现钱先实现几个工具类, 减少重复代码和提高可读性.</p>
<p><strong>注: 后续使用到同名工具类时默认为这几个类型</strong></p>
<pre><code class="language-typescript">type Or&#x3C;Case1 extends boolean, Case2 extends boolean> = Case1 extends true
  ? true
  : Case2 extends true
  ? true
  : false;

type ArrayPop&#x3C;Arr extends unknown[]> = Arr extends [...infer Left, infer Last]
  ? Left
  : never;

type NumberIsZero&#x3C;Num extends number> = Num extends 0 ? true : false;
</code></pre>
<p>最终代码</p>
<pre><code class="language-typescript">type NumberIsCompare&#x3C;
  Num1 extends number,
  Num2 extends number,
  Arr1 extends unknown[] = BuildArray&#x3C;Num1>,
  Arr2 extends unknown[] = BuildArray&#x3C;Num2>
> = NumberIsEqual&#x3C;Num1, Num2> extends false
  ? Or&#x3C;NumberIsZero&#x3C;Arr1['length']>, NumberIsZero&#x3C;Arr2['length']>> extends true
    ? NumberIsZero&#x3C;Arr1['length']> extends true
      ? false
      : true
    : NumberIsCompare&#x3C;ArrayPop&#x3C;Arr1>['length'], ArrayPop&#x3C;Arr2>['length']>
  : false;

</code></pre>
<p><img src="/assets/typescript/example-18.png" alt="alt">
<img src="/assets/typescript/example-19.png" alt="alt">
<img src="/assets/typescript/example-20.png" alt="alt">
<img src="/assets/typescript/example-21.png" alt="alt">
<img src="/assets/typescript/example-22.png" alt="alt"></p>
<h3 id="判断是否小与"><a aria-hidden="true" tabindex="-1" href="#判断是否小与"><span class="icon icon-link"></span></a>判断是否小与</h3>
<p>过滤掉相等情况后对大于取反就好了.</p>
<pre><code class="language-typescript">type NumberIsLess&#x3C;Num1 extends number, Num2 extends number> = NumberIsEqual&#x3C;
  Num1,
  Num2
> extends false
  ? NumberIsCompare&#x3C;Num1, Num2> extends true
    ? false
    : true
  : false;
</code></pre>
<h2 id="5-实现-indexof---从左往右查找子串的位置"><a aria-hidden="true" tabindex="-1" href="#5-实现-indexof---从左往右查找子串的位置"><span class="icon icon-link"></span></a>5. 实现 IndexOf - 从左往右查找子串的位置</h2>
<p>核心原理</p>
<p><img src="/assets/typescript/example-23.png" alt="alt"></p>
<p>最后实现一个获取字符串长度的工具类型即可获得最终结果</p>
<p><strong>注意: <code>['a']['length']的值为数组长度, 而 'aa'['length']</code> 的值为 number</strong></p>
<p>所以我们可以将字符串切割为数组, 然后来获取长度.</p>
<pre><code class="language-typescript">type Split&#x3C;
  S extends string,
  Element extends string = '',
  ResultArray extends string[] = []
> = S extends ''
  ? [...ResultArray, S]
  : S extends `${infer Left}${Element}${infer Rest}`
    ? Split&#x3C;Rest, Element, [...ResultArray, Left]>
    : [...ResultArray, S];
</code></pre>
<p><img src="/assets/typescript/example-24.png" alt="alt">
<img src="/assets/typescript/example-25.png" alt="alt">
<img src="/assets/typescript/example-26.png" alt="alt"></p>
<pre><code class="language-typescript">type GetStringLength&#x3C;S extends string> =  Split&#x3C;S> extends never ? never : Split&#x3C;S>['length']
</code></pre>
<p>最后结果</p>
<pre><code class="language-typescript">type IndexOf&#x3C;
  S1 extends string,
  S2 extends string,
  Len1 extends number = GetStringLength&#x3C;S1>,
  Len2 extends number = GetStringLength&#x3C;S2>
> = Or&#x3C;NumberIsCompare&#x3C;Len1, Len2>, NumberIsEqual&#x3C;Len1, Len2>> extends false
  ? -1
  : S1 extends `${infer Left}${S2}${infer Rest}`
  ? GetStringLength&#x3C;Left>
  : -1;
</code></pre>
<p><img src="/assets/typescript/example-27.png" alt="alt">
<img src="/assets/typescript/example-28.png" alt="alt">
<img src="/assets/typescript/example-29.png" alt="alt">
<img src="/assets/typescript/example-30.png" alt="alt"></p>
<h2 id="6-实现字符串的-replace-与-replaceall"><a aria-hidden="true" tabindex="-1" href="#6-实现字符串的-replace-与-replaceall"><span class="icon icon-link"></span></a>6. 实现字符串的 Replace 与 ReplaceAll</h2>
<ol>
<li>
<p><code>Replace</code></p>
<pre><code class="language-typescript">type Replace&#x3C;
  Str extends string,
  MatchStr extends string,
  ReplaceStr extends string
> = Str extends `${infer Left}${MatchStr}${infer Rest}`
  ? `${Left}${ReplaceStr}${Rest}`
  : Str;
</code></pre>
<p><img src="/assets/typescript/example-31.png" alt="alt">
<img src="/assets/typescript/example-32.png" alt="alt">
<img src="/assets/typescript/example-33.png" alt="alt"></p>
</li>
<li>
<p><code>ReplaceAll</code></p>
<pre><code class="language-typescript">type ReplaceAll&#x3C;
  Str extends string,
  MatchStr extends string,
  ReplaceStr extends string
> = Str extends `${infer Left}${MatchStr}${infer Rest}`
  ? Rest extends `${infer Left2}${MatchStr}${infer Rest2}`
    ? ReplaceAll&#x3C;`${Left}${ReplaceStr}${Rest}`, MatchStr, ReplaceStr>
    : `${Left}${ReplaceStr}${Rest}`
  : Str;
</code></pre>
<p><img src="/assets/typescript/example-34.png" alt="alt">
<img src="/assets/typescript/example-35.png" alt="alt"></p>
</li>
</ol>
<h2 id="7-实现类似-vue-的类型支持的简化版本"><a aria-hidden="true" tabindex="-1" href="#7-实现类似-vue-的类型支持的简化版本"><span class="icon icon-link"></span></a>7. 实现类似 Vue 的类型支持的简化版本</h2>
<p>通过提供一个函数SimpleVue（类似于Vue.extend或defineComponent），它应该正确地推断出 computed 和 methods 内部的this类型。</p>
<p>在此挑战中，我们假设SimpleVue接受只带有data，computed和methods字段的Object作为其唯一的参数，</p>
<p>data是一个简单的函数，它返回一个提供上下文this的对象，但是你无法在data中获取其他的计算属性或方法。</p>
<p>computed是将this作为上下文的函数的对象，进行一些计算并返回结果。在上下文中应暴露计算出的值而不是函数。</p>
<p>methods是函数的对象，其上下文也为this。函数中可以访问data，computed以及其他methods中的暴露的字段。 computed与methods的不同之处在于methods在上下文中按原样暴露为函数。</p>
<p>SimpleVue的返回值类型可以是任意的。</p>
<pre><code class="language-JavaScript">const instance = SimpleVue({
  data() {
    return {
      firstname: 'Type',
      lastname: 'Challenges',
      amount: 10,
    }
  },
  computed: {
    fullname() {
      return this.firstname + ' ' + this.lastname
    }
  },
  methods: {
    hi() {
      alert(this.fullname.toLowerCase())
    }
  }
})

</code></pre>
<p>实现:</p>
<pre><code class="language-TypeScript">type Computed&#x3C;C extends Record&#x3C;PropertyKey, () => any>> = {
  [CK in keyof C]: ReturnType&#x3C;C[CK]>;
};

type SimpleVueType&#x3C;D extends Record&#x3C;PropertyKey, any>, C extends Record&#x3C;PropertyKey, any>, M extends Record&#x3C;PropertyKey, any>> = (arg: {
  data:() => D;
  computed:C &#x26; ThisType&#x3C;D>;
  methods: M &#x26; ThisType&#x3C;D &#x26; M &#x26; Computed&#x3C;C>>;
}) => any
</code></pre>
<h2 id="8-函数柯里化"><a aria-hidden="true" tabindex="-1" href="#8-函数柯里化"><span class="icon icon-link"></span></a>8. 函数柯里化</h2>
<p>Currying 是一种将带有多个参数的函数转换为每个带有一个参数的函数序列的技术。</p>
<p>例如：</p>
<pre><code class="language-TypeScript">const add = (a: number, b: number) => a + b
const three = add(1, 2)

const curriedAdd = Currying(add)
const five = curriedAdd(2)(3)
</code></pre>
<p>传递给 Currying 的函数可能有多个参数，您需要正确键入它。
在此挑战中，curried 函数一次仅接受一个参数。分配完所有参数后，它应返回其结果。</p>
<p>实现:</p>
<pre><code class="language-TypeScript">type CurryingType&#x3C;T> = T extends (...args: [infer Left, ...infer Rest]) => infer R
    ? Rest['length'] extends 0
        ? T
        : (arg: Left) => CurryingType&#x3C;(...args: Rest) => R>
    : never
</code></pre>
<h2 id="9-uniontointersection"><a aria-hidden="true" tabindex="-1" href="#9-uniontointersection"><span class="icon icon-link"></span></a>9. UnionToIntersection</h2>
<p><code>type I = Union2Intersection&#x3C;'foo' | 42 | true> // expected to be 'foo' &#x26; 42 &#x26; true</code></p>
<pre><code class="language-typescript">type UnionToFunction&#x3C;T> = T extends any ? (arg:T) => void : never;

type test1 = UnionToFunction&#x3C;"foo" | 42 | true>;// (arg: "foo") => void | (arg: 42) => void | (arg: true) => void;

type UnionToIntersection&#x3C;U> = UnionToFunction&#x3C;U> extends (arg:infer T) => void ? T:never;

type test2 = UnionToIntersection&#x3C;{a:string} | {b:number} | {c:boolean}>;// {a: string} &#x26; {b: number} &#x26; {c: boolean}

</code></pre>
<p>解题思路: <a href="https://github.com/type-challenges/type-challenges/issues?q=label%3A55+label%3Aanswer+sort%3Areactions-%2B1-desc">https://github.com/type-challenges/type-challenges/issues?q=label%3A55+label%3Aanswer+sort%3Areactions-%2B1-desc</a></p>
<h2 id="10-getrequired-and-getoptional"><a aria-hidden="true" tabindex="-1" href="#10-getrequired-and-getoptional"><span class="icon icon-link"></span></a>10. GetRequired and GetOptional</h2>
<pre><code class="language-typescript">type GetRequired&#x3C;T> = {[P in keyof T as T[P] extends Required&#x3C;T>[P] ? P : never]:T[P]}
</code></pre>
<pre><code class="language-typescript">type GetOptional&#x3C;T> = {[P in keyof T as T[P] extends Required&#x3C;T>[P] ? never : P]:T[P]}
</code></pre>
<h2 id="11-capitalize-words"><a aria-hidden="true" tabindex="-1" href="#11-capitalize-words"><span class="icon icon-link"></span></a>11. Capitalize Words</h2>
<p>Implement CapitalizeWords which converts the first letter of each word of a string to uppercase and leaves the rest as-is.</p>
<p>For example</p>
<pre><code class="language-typescript">type capitalized = CapitalizeWords&#x3C;'hello world, my friends'> // expected to be 'Hello World, My Friends'
</code></pre>
<pre><code class="language-typescript">type CapitalizeRest&#x3C;T> = T extends `${infer Left}${infer Rest}` ? `${Left}${CapitalizeRest&#x3C;Capitalize&#x3C;Left> extends Lowercase&#x3C;Left> ? Capitalize&#x3C;Rest> : Rest>}`

 : T;

type CapitalizeWords&#x3C;S extends string> = Capitalize&#x3C;CapitalizeRest&#x3C;S>>;
</code></pre>
<h2 id="12-camelcase"><a aria-hidden="true" tabindex="-1" href="#12-camelcase"><span class="icon icon-link"></span></a>12 CamelCase</h2>
<p>Implement CamelCase which converts snake_case string to camelCase.</p>
<p>For example</p>
<pre><code class="language-typescript">type camelCase1 = CamelCase&#x3C;'hello_world_with_types'> // expected to be 'helloWorldWithTypes'
type camelCase2 = CamelCase&#x3C;'HELLO_WORLD_WITH_TYPES'> // expected to be same as previous one
</code></pre>
<pre><code class="language-typescript">type IsGap&#x3C;T extends string> = Uppercase&#x3C;T> extends Lowercase&#x3C;T> ? true : false;

type CamelCase&#x3C;S extends string> = S extends Lowercase&#x3C;S>
  ? S extends `${infer L}_${infer C}${infer R}`
    ? C extends '_'
      ? `${L}_${CamelCase&#x3C;`_${R}`>}`
      : `${L}${IsGap&#x3C;C> extends true ? `_${C}` : Uppercase&#x3C;C>}${CamelCase&#x3C;R>}`
    : S
  : CamelCase&#x3C;Lowercase&#x3C;S>>;

</code></pre>
<h2 id="13-c-printf-parser"><a aria-hidden="true" tabindex="-1" href="#13-c-printf-parser"><span class="icon icon-link"></span></a>13 C-printf Parser</h2>
<pre><code class="language-typescript">import type { Equal, Expect } from '@type-challenges/utils'

type cases = [
  Expect&#x3C;Equal&#x3C;ParsePrintFormat&#x3C;''>, []>>,
  Expect&#x3C;Equal&#x3C;ParsePrintFormat&#x3C;'Any string.'>, []>>,
  Expect&#x3C;Equal&#x3C;ParsePrintFormat&#x3C;'The result is %d.'>, ['dec']>>,
  Expect&#x3C;Equal&#x3C;ParsePrintFormat&#x3C;'The result is %%d.'>, []>>,
  Expect&#x3C;Equal&#x3C;ParsePrintFormat&#x3C;'The result is %%%d.'>, ['dec']>>,
  Expect&#x3C;Equal&#x3C;ParsePrintFormat&#x3C;'The result is %f.'>, ['float']>>,
  Expect&#x3C;Equal&#x3C;ParsePrintFormat&#x3C;'The result is %h.'>, ['hex']>>,
  Expect&#x3C;Equal&#x3C;ParsePrintFormat&#x3C;'The result is %q.'>, []>>,
  Expect&#x3C;Equal&#x3C;ParsePrintFormat&#x3C;'Hello %s: score is %d.'>, ['string', 'dec']>>,
  Expect&#x3C;Equal&#x3C;ParsePrintFormat&#x3C;'The result is %'>, []>>,
]
</code></pre>
<pre><code class="language-typescript">type ControlsMap = {
  c: 'char'
  s: 'string'
  d: 'dec'
  o: 'oct'
  h: 'hex'
  f: 'float'
  p: 'pointer'
}

type ParsePrintFormat&#x3C;S extends string> = S extends `${infer Start}%${infer Letter}${infer Rest}`
  ? (Letter extends keyof ControlsMap
      ? [ControlsMap[Letter], ...ParsePrintFormat&#x3C;Rest>]
      : ParsePrintFormat&#x3C;Rest>)
  : []

</code></pre>
<h2 id="14-typed-get"><a aria-hidden="true" tabindex="-1" href="#14-typed-get"><span class="icon icon-link"></span></a>14. Typed Get</h2>
<p>实现以下功能的工具类型:</p>
<pre><code class="language-typescript">type Data = {
  foo: {
    bar: {
      value: 'foobar',
      count: 6,
    },
    included: true,
  },
  hello: 'world'
}
  
type A = Get&#x3C;Data, 'hello'> // 'world'
type B = Get&#x3C;Data, 'foo.bar.count'> // 6
type C = Get&#x3C;Data, 'foo.bar'> // { value: 'foobar', count: 6 }
</code></pre>
<pre><code class="language-typescript">type Split&#x3C;S extends string, Element extends string = '.'> = S extends ''
  ? []
  : S extends `${infer Left}${Element}${infer Rest}`
  ? [Left, Rest]
  : [S];

type Get&#x3C;T, K extends string> = K extends keyof T
  ? T[K]
  : Split&#x3C;K>['length'] extends 2
  ? Split&#x3C;K>[0] extends keyof T
    ? Split&#x3C;K>[1] extends string
      ? Get&#x3C;T[Split&#x3C;K>[0]], Split&#x3C;K>[1]>
      : never
    : never
  : never;
</code></pre>
<h2 id="15-string-to-number"><a aria-hidden="true" tabindex="-1" href="#15-string-to-number"><span class="icon icon-link"></span></a>15. String to Number</h2>
<pre><code class="language-typescript">type cases = [
  Expect&#x3C;Equal&#x3C;ToNumber&#x3C;'0'>, 0>>,
  Expect&#x3C;Equal&#x3C;ToNumber&#x3C;'5'>, 5>>,
  Expect&#x3C;Equal&#x3C;ToNumber&#x3C;'12'>, 12>>,
  Expect&#x3C;Equal&#x3C;ToNumber&#x3C;'27'>, 27>>,
  Expect&#x3C;Equal&#x3C;ToNumber&#x3C;'18@7_$%'>, never>>,
]
</code></pre>
<pre><code class="language-typescript">type ToNumber&#x3C;S extends string> = S extends `${infer N extends number}` ? N : never;
</code></pre>
<h2 id="16-tuple-filter"><a aria-hidden="true" tabindex="-1" href="#16-tuple-filter"><span class="icon icon-link"></span></a>16. Tuple Filter</h2>
<pre><code class="language-typescript">type cases = [
  Expect&#x3C;Equal&#x3C;FilterOut&#x3C;[], never>, []>>,
  Expect&#x3C;Equal&#x3C;FilterOut&#x3C;[never], never>, []>>,
  Expect&#x3C;Equal&#x3C;FilterOut&#x3C;['a', never], never>, ['a']>>,
  Expect&#x3C;Equal&#x3C;FilterOut&#x3C;[1, never, 'a'], never>, [1, 'a']>>,
  Expect&#x3C;Equal&#x3C;FilterOut&#x3C;[never, 1, 'a', undefined, false, null], never | null | undefined>, [1, 'a', false]>>,
  Expect&#x3C;Equal&#x3C;FilterOut&#x3C;[number | null | undefined, never], never | null | undefined>, [number | null | undefined]>>,
]

</code></pre>
<pre><code class="language-typescript">type FilterOut&#x3C;T extends any[], F> = T extends [infer R, ...infer Rest] ? [R] extends [F] ? FilterOut&#x3C;Rest, F> : [R, ...FilterOut&#x3C;Rest, F>] : []

</code></pre>
<h2 id="17tuple-to-enum-object"><a aria-hidden="true" tabindex="-1" href="#17tuple-to-enum-object"><span class="icon icon-link"></span></a>17.Tuple to Enum Object</h2>
<pre><code class="language-typescript">type cases = [
  Expect&#x3C;Equal&#x3C;Enum&#x3C;[]>, {}>>,
  Expect&#x3C;Equal&#x3C;
  Enum&#x3C;typeof OperatingSystem>,
  {
    readonly MacOS: 'macOS'
    readonly Windows: 'Windows'
    readonly Linux: 'Linux'
  }
  >>,
  Expect&#x3C;Equal&#x3C;
  Enum&#x3C;typeof OperatingSystem, true>,
  {
    readonly MacOS: 0
    readonly Windows: 1
    readonly Linux: 2
  }
  >>,
  Expect&#x3C;Equal&#x3C;
  Enum&#x3C;typeof Command>,
  {
    readonly Echo: 'echo'
    readonly Grep: 'grep'
    readonly Sed: 'sed'
    readonly Awk: 'awk'
    readonly Cut: 'cut'
    readonly Uniq: 'uniq'
    readonly Head: 'head'
    readonly Tail: 'tail'
    readonly Xargs: 'xargs'
    readonly Shift: 'shift'
  }
  >>,
  Expect&#x3C;Equal&#x3C;
  Enum&#x3C;typeof Command, true>,
  {
    readonly Echo: 0
    readonly Grep: 1
    readonly Sed: 2
    readonly Awk: 3
    readonly Cut: 4
    readonly Uniq: 5
    readonly Head: 6
    readonly Tail: 7
    readonly Xargs: 8
    readonly Shift: 9
  }
  >>,
]
</code></pre>
<pre><code class="language-typescript">type TupleKeys&#x3C;T extends readonly unknown[]> = T extends readonly [
  infer Head,
  ...infer Tail
]
  ? TupleKeys&#x3C;Tail> | Tail["length"]
  : never;

type Enum&#x3C;T extends readonly string[], N extends boolean = false> = {
  readonly [K in TupleKeys&#x3C;T> as Capitalize&#x3C;T[K]>]: N extends true ? K : T[K]
};
</code></pre>
<h2 id="18-deep-object-to-unique"><a aria-hidden="true" tabindex="-1" href="#18-deep-object-to-unique"><span class="icon icon-link"></span></a>18. Deep object to unique</h2>
<pre><code class="language-typescript">type DeepObjectToUniq&#x3C;O extends object> = {
  [k in keyof O]: O[k] extends object ? DeepObjectToUniq&#x3C;O[k]> &#x26; { [unique: symbol]: [O, k] } : O[k]
} &#x26; { [unique: symbol]: O }

/* _____________ Test Cases _____________ */
import type { Equal, IsFalse, IsTrue } from '@type-challenges/utils'

type Quz = { quz: 4 }

type Foo = { foo: 2; baz: Quz; bar: Quz }
type Bar = { foo: 2; baz: Quz; bar: Quz &#x26; { quzz?: 0 } }

type UniqQuz = DeepObjectToUniq&#x3C;Quz>
type UniqFoo = DeepObjectToUniq&#x3C;Foo>
type UniqBar = DeepObjectToUniq&#x3C;Bar>

declare let foo: Foo
declare let uniqFoo: UniqFoo

uniqFoo = foo
foo = uniqFoo

type cases = [
  IsFalse&#x3C;Equal&#x3C;UniqQuz, Quz>>,
  IsFalse&#x3C;Equal&#x3C;UniqFoo, Foo>>,
  IsTrue&#x3C;Equal&#x3C;UniqFoo['foo'], Foo['foo']>>,
  IsTrue&#x3C;Equal&#x3C;UniqFoo['bar']['quz'], Foo['bar']['quz']>>,
  IsFalse&#x3C;Equal&#x3C;UniqQuz, UniqFoo['baz']>>,
  IsFalse&#x3C;Equal&#x3C;UniqFoo['bar'], UniqFoo['baz']>>,
  IsFalse&#x3C;Equal&#x3C;UniqBar['baz'], UniqFoo['baz']>>,
  IsTrue&#x3C;Equal&#x3C;keyof UniqBar['baz'], keyof UniqFoo['baz']>>,
  IsTrue&#x3C;Equal&#x3C;keyof Foo, keyof UniqFoo &#x26; string>>,
]
</code></pre>
<h2 id="19-length-of-string-2"><a aria-hidden="true" tabindex="-1" href="#19-length-of-string-2"><span class="icon icon-link"></span></a>19. Length of String 2</h2>
<pre><code class="language-typescript">type Two&#x3C;S extends string,L extends string = '',R extends string = ''> =
  S extends `${infer x}${infer xs}`
    ? xs extends `${infer y}${infer ys}`
      ? Two&#x3C;ys, `${L}${x}`, `${R}${y}`>
    : [`${S}${L}`,R]
  : [L,R];

type Spread&#x3C;S extends string> =
  S extends ''
    ? []
  : Two&#x3C;S> extends [infer L, ''] ? [L]
  : Two&#x3C;S> extends [infer L, infer R]
    ? L extends string
      ? R extends string
        ? [...Spread&#x3C;L>, ...Spread&#x3C;R>]
      : never
    : never
  : [];
type LengthOfString&#x3C;S extends string> = Spread&#x3C;S>['length'];

/* _____________ Test Cases _____________ */
import type { Equal, IsTrue } from '@type-challenges/utils'

type cases = [
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;''>, 0>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'1'>, 1>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'12'>, 2>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'123'>, 3>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'1234'>, 4>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'12345'>, 5>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'123456'>, 6>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'1234567'>, 7>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'12345678'>, 8>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'123456789'>, 9>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'1234567890'>, 10>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'12345678901'>, 11>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'123456789012'>, 12>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'1234567890123'>, 13>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'12345678901234'>, 14>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'123456789012345'>, 15>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'1234567890123456'>, 16>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'12345678901234567'>, 17>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'123456789012345678'>, 18>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'1234567890123456789'>, 19>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'12345678901234567890'>, 20>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'123456789012345678901'>, 21>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'1234567890123456789012'>, 22>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'12345678901234567890123'>, 23>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'aaaaaaaaaaaaggggggggggggggggggggkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa'>, 272>>,
  IsTrue&#x3C;Equal&#x3C;LengthOfString&#x3C;'000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000'>, 999>>,
]
</code></pre>
<h2 id="20-union-to-tuple"><a aria-hidden="true" tabindex="-1" href="#20-union-to-tuple"><span class="icon icon-link"></span></a>20. Union to Tuple</h2>
<pre><code class="language-typescript">type UnionToIntersection&#x3C;U> = (U extends U ? (x: U) => unknown : never) extends (
  x: infer R,
) => unknown
  ? R
  : never;

// type res = UnionToIntersection&#x3C;{ a: string } | { b: number }>;

/**
 * 并集转元组
 */
type UnionToTuple&#x3C;T> = UnionToIntersection&#x3C;
  T extends any ? () => T : never
> extends () => infer ReturnType
  ? [...UnionToTuple&#x3C;Exclude&#x3C;T, ReturnType>>, ReturnType]
  : [];

/* _____________ Test Cases _____________ */
import type { Equal, Expect } from '@type-challenges/utils'

type ExtractValuesOfTuple&#x3C;T extends any[]> = T[keyof T &#x26; number]

type cases = [
  Expect&#x3C;Equal&#x3C;UnionToTuple&#x3C;'a' | 'b'>['length'], 2>>,
  Expect&#x3C;Equal&#x3C;ExtractValuesOfTuple&#x3C;UnionToTuple&#x3C;'a' | 'b'>>, 'a' | 'b'>>,
  Expect&#x3C;Equal&#x3C;ExtractValuesOfTuple&#x3C;UnionToTuple&#x3C;'a'>>, 'a'>>,
  Expect&#x3C;Equal&#x3C;ExtractValuesOfTuple&#x3C;UnionToTuple&#x3C;any>>, any>>,
  Expect&#x3C;Equal&#x3C;ExtractValuesOfTuple&#x3C;UnionToTuple&#x3C;undefined | void | 1>>, void | 1>>,
  Expect&#x3C;Equal&#x3C;ExtractValuesOfTuple&#x3C;UnionToTuple&#x3C;any | 1>>, any | 1>>,
  Expect&#x3C;Equal&#x3C;ExtractValuesOfTuple&#x3C;UnionToTuple&#x3C;any | 1>>, any>>,
  Expect&#x3C;Equal&#x3C;ExtractValuesOfTuple&#x3C;UnionToTuple&#x3C;'d' | 'f' | 1 | never>>, 'f' | 'd' | 1>>,
  Expect&#x3C;Equal&#x3C;ExtractValuesOfTuple&#x3C;UnionToTuple&#x3C;[{ a: 1 }] | 1>>, [{ a: 1 }] | 1>>,
  Expect&#x3C;Equal&#x3C;ExtractValuesOfTuple&#x3C;UnionToTuple&#x3C;never>>, never>>,
  Expect&#x3C;Equal&#x3C;ExtractValuesOfTuple&#x3C;UnionToTuple&#x3C;'a' | 'b' | 'c' | 1 | 2 | 'd' | 'e' | 'f' | 'g'>>, 'f' | 'e' | 1 | 2 | 'g' | 'c' | 'd' | 'a' | 'b'>>,
]
</code></pre></div></section></article></main><footer class="bg-neutral-50 border-t border-neutral-200 text-center text-xs opacity-50 py-4">© 2022,<!-- --> <a rel="noopener noreferrer" class="hover:underline hover:bg-indigo" href="https://github.com/LZS911" target="_blank">LZS_911</a>, build with<!-- --> <a rel="noopener noreferrer" class="underline hover:bg-indigo" href="https://nextjs.org/" target="_blank">Next.js</a> <!-- -->and<!-- --> <a rel="noopener noreferrer" class="underline hover:bg-indigo" href="https://pages.github.com/?(null)" target="_blank">GitHub Pages</a></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Typescript 体操练习","date":"2022-09-26","slug":"Typescript 体操练习","author":"LZS_911","content":"\u003ch2 id=\"1-将下划线模式的-string-类型转化成驼峰类型\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#1-将下划线模式的-string-类型转化成驼峰类型\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e1. 将下划线模式的 string 类型转化成驼峰类型\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"language-Typescript\"\u003etype TransformToCamelCase\u0026#x3C;T extends string\u003e =\n  T extends `${infer Left}_${infer Rest}`\n    ? `${Left}${TransformToCamelCase\u0026#x3C;Capitalize\u0026#x3C;Rest\u003e\u003e}`\n    : T;\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-1.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003cp\u003e注意点:\u003c/p\u003e\n\u003cp\u003e需要递归继续处理剩余的部分.\u003c/p\u003e\n\u003ch3 id=\"应用-当服务端定义的实体中的-key-的模式为下环线-但前端代码中需要使用驼峰模式时\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#应用-当服务端定义的实体中的-key-的模式为下环线-但前端代码中需要使用驼峰模式时\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e应用: 当服务端定义的实体中的 \u003ccode\u003ekey\u003c/code\u003e 的模式为下环线, 但前端代码中需要使用驼峰模式时\u003c/h3\u003e\n\u003cp\u003e实现:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-Typescript\"\u003etype CamelCase\u0026#x3C;T extends Record\u0026#x3C;string, any\u003e\u003e = T extends any\n  ? {\n      [key in keyof T as TransformToCamelCase\u0026#x3C;\n        key \u0026#x26; string\n      \u003e]: T[key] extends Array\u0026#x3C;infer Element\u003e\n        ? Array\u0026#x3C;\n            Element extends string\n              ? TransformToCamelCase\u0026#x3C;Element\u003e\n              : CamelCase\u0026#x3C;Element\u003e\n          \u003e\n        : T[key] extends Record\u0026#x3C;string, any\u003e\n        ? CamelCase\u0026#x3C;T[key]\u003e\n        : T[key];\n    }\n  : never;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-2.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003cp\u003e注意点:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e当某项 \u003ccode\u003ekey\u003c/code\u003e 的类型仍然满足 \u003ccode\u003eRecord\u0026#x3C;string, any\u003e\u003c/code\u003e 时, 需要递归继续.\u003c/li\u003e\n\u003cli\u003e因为 \u003ccode\u003eTypescript\u003c/code\u003e 不会去计算递归中的表达式, 所以需要加上一个一定为 \u003ccode\u003etrue\u003c/code\u003e 的判断, 让他去执行, 也就是 \u003ccode\u003eT extends any\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003e需要注意 \u003ccode\u003eArray\u003c/code\u003e 的情况.\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"2-将索引类型转化为联合类型\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#2-将索引类型转化为联合类型\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e2. 将索引类型转化为联合类型\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e索引类型是一个聚合了多个元素的类型，对象、类、元组等都是索引类型, 举个栗子:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"language-Typescript\"\u003etype ExampleType = {\n  name: string;\n  sex: boolean;\n  age: number;\n  hobbies: string[];\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e联合类型. 顾名思义, 它是一个联合了多种类型的集合, 取值可以取其中任意一种类型.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"language-Typescript\"\u003etype UnionTypes = { name: string } | { sex: boolean } | { age: number} | { hobbies: string[] };\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e需求: 实现一个工具类, 将 \u003ccode\u003eExampleType\u003c/code\u003e 转化为 \u003ccode\u003eUnionTypes\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e实现:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-Typescript\"\u003etype SpiltObj\u0026#x3C;T\u003e = {\n  [key in keyof T]: {\n    [key2 in key]:T[key2]\n  }\n}[keyof T]\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e拆分, 先看第一部分\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-Typescript\"\u003etype SpiltObj\u0026#x3C;T\u003e = {\n  [key in keyof T]: {\n    [key2 in key]:T[key2]\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-Typescript\"\u003e  type Res1 = SpiltObj\u0026#x3C;ExampleType\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-3.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003cp\u003e第二部分\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-Typescript\"\u003e  type ExampleType = {\n    name: string;\n    sex: boolean;\n    age: number;\n    hobbies: string[];\n  }\n\n  type Res2 = ExampleType[keyof ExampleType]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-4.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e拓展, 实现一个工具类, 拿到索性类型键值路径的联合类型\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-Typescript\"\u003etype Template = {\n  aa: {\n    bb: string;\n  };\n  cc: number;\n  dd: {\n    ee: {\n      ff: string;\n    }\n  };\n  gg: {\n    hh: number\n  };\n}\n\ntype TemplateKeyPath\u0026#x3C;T\u003e ={\n   [key in keyof T]: key extends string ? T[key] extends Record\u0026#x3C;string, any\u003e ? key | `${key}.${TemplateKeyPath\u0026#x3C;T[key]\u003e}` : key : never;\n}[keyof T]\n\ntype Res3 = TemplateKeyPath\u0026#x3C;Template\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-5.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"3-使用数组长度进行数值计算\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#3-使用数组长度进行数值计算\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e3. 使用数组长度进行数值计算\u003c/h2\u003e\n\u003cp\u003eTypescript 本身是没有加减乘除运算符的, 所以需要取巧来处理数值的计算.\u003c/p\u003e\n\u003cp\u003e利用构造数组, 然后获取它的 \u003ccode\u003elength\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e注: 因为数组长度不会为负数, 所以这里做的数值计算只包含正整数\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-6.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003cp\u003e实现运算方法之前, 先实现一个构造数组的工具类\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-Typescript\"\u003etype BuildArray\u0026#x3C;\n  Length extends number,\n  Element = unknown,\n  Array extends unknown[] = []\n\u003e = Array['length'] extends Length\n  ? Array\n  : BuildArray\u0026#x3C;Length, Element, [Element, ...Array]\u003e;\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-7.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eBuildArray\u003c/code\u003e 接收三个泛形, 其中第一个参数 \u003ccode\u003eLength\u003c/code\u003e 为需要构造出来的数组长度, \u003ccode\u003eElement\u003c/code\u003e 为数组类的元素类型, 默认值为 \u003ccode\u003eunknown\u003c/code\u003e, \u003ccode\u003eArray\u003c/code\u003e 为返回结果, 用来递归处理. 如果将其转化为 \u003ccode\u003ejavascript\u003c/code\u003e 代码, 大致如下:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003econst buildArray = (length, element, arr = []) =\u003e {\n  if (length === arr.length) {\n    return arr;\n  }\n\n  return buildArray(length, element, [element, ...arr]);\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"加法运算\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#加法运算\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e加法运算\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype Add\u0026#x3C;Num1 extends number, Num2 extends number\u003e = [...BuildArray\u0026#x3C;Num1\u003e, ...BuildArray\u0026#x3C;Num2\u003e]['length']\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-8.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-9.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003ch3 id=\"减法运算\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#减法运算\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e减法运算\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype Subtract\u0026#x3C;\n  Num1 extends number,\n  Num2 extends number\n\u003e = BuildArray\u0026#x3C;Num1\u003e extends [...arr1: BuildArray\u0026#x3C;Num2\u003e, ...arr2: infer Rest]\n  ? Rest['length']\n  : never;\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-10.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-11.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003ch3 id=\"乘法运算\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#乘法运算\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e乘法运算\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype Multiply\u0026#x3C;\n  Num1 extends number,\n  Num2 extends number,\n  ResultArray extends unknown[] = []\n\u003e = Num2 extends 0\n  ? ResultArray['length']\n  : Multiply\u0026#x3C;Num1, Subtract\u0026#x3C;Num2, 1\u003e, [...BuildArray\u0026#x3C;Num1\u003e, ...ResultArray]\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-12.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-13.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003ch3 id=\"除法运算\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#除法运算\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e除法运算\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype Divide\u0026#x3C;\n  Num1 extends number,\n  Num2 extends number,\n  ResultArray extends unknown[] = []\n\u003e = Num1 extends 0\n  ? ResultArray['length']\n  : Divide\u0026#x3C;Subtract\u0026#x3C;Num1, Num2\u003e, Num2, [unknown, ...ResultArray]\u003e; \n  // [unknown, ...ResultArray] =\u003e [...BuildArray\u0026#x3C;Add\u0026#x3C;ResultArray['length'], 1\u003e \u0026#x26; number\u003e]\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-14.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-15.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003ch2 id=\"4-判断两个正整数的大小\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#4-判断两个正整数的大小\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e4. 判断两个正整数的大小\u003c/h2\u003e\n\u003ch3 id=\"比较是否相等\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#比较是否相等\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e比较是否相等\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype NumberIsEqual\u0026#x3C;Num1 extends number, Num2 extends number\u003e = Num1 extends Num2 ? true : false;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-16.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-17.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003ch3 id=\"判断是否大于\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#判断是否大于\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e判断是否大于\u003c/h3\u003e\n\u003cp\u003e大致思路: 利用构造数组, 递归对构造出来的数组进行 Pop 操作, 通过判断数组的长度是否为 0 来确定大小.\u003c/p\u003e\n\u003cp\u003e在开始实现钱先实现几个工具类, 减少重复代码和提高可读性.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e注: 后续使用到同名工具类时默认为这几个类型\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype Or\u0026#x3C;Case1 extends boolean, Case2 extends boolean\u003e = Case1 extends true\n  ? true\n  : Case2 extends true\n  ? true\n  : false;\n\ntype ArrayPop\u0026#x3C;Arr extends unknown[]\u003e = Arr extends [...infer Left, infer Last]\n  ? Left\n  : never;\n\ntype NumberIsZero\u0026#x3C;Num extends number\u003e = Num extends 0 ? true : false;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e最终代码\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype NumberIsCompare\u0026#x3C;\n  Num1 extends number,\n  Num2 extends number,\n  Arr1 extends unknown[] = BuildArray\u0026#x3C;Num1\u003e,\n  Arr2 extends unknown[] = BuildArray\u0026#x3C;Num2\u003e\n\u003e = NumberIsEqual\u0026#x3C;Num1, Num2\u003e extends false\n  ? Or\u0026#x3C;NumberIsZero\u0026#x3C;Arr1['length']\u003e, NumberIsZero\u0026#x3C;Arr2['length']\u003e\u003e extends true\n    ? NumberIsZero\u0026#x3C;Arr1['length']\u003e extends true\n      ? false\n      : true\n    : NumberIsCompare\u0026#x3C;ArrayPop\u0026#x3C;Arr1\u003e['length'], ArrayPop\u0026#x3C;Arr2\u003e['length']\u003e\n  : false;\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-18.png\" alt=\"alt\"\u003e\n\u003cimg src=\"/assets/typescript/example-19.png\" alt=\"alt\"\u003e\n\u003cimg src=\"/assets/typescript/example-20.png\" alt=\"alt\"\u003e\n\u003cimg src=\"/assets/typescript/example-21.png\" alt=\"alt\"\u003e\n\u003cimg src=\"/assets/typescript/example-22.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003ch3 id=\"判断是否小与\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#判断是否小与\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e判断是否小与\u003c/h3\u003e\n\u003cp\u003e过滤掉相等情况后对大于取反就好了.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype NumberIsLess\u0026#x3C;Num1 extends number, Num2 extends number\u003e = NumberIsEqual\u0026#x3C;\n  Num1,\n  Num2\n\u003e extends false\n  ? NumberIsCompare\u0026#x3C;Num1, Num2\u003e extends true\n    ? false\n    : true\n  : false;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"5-实现-indexof---从左往右查找子串的位置\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#5-实现-indexof---从左往右查找子串的位置\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e5. 实现 IndexOf - 从左往右查找子串的位置\u003c/h2\u003e\n\u003cp\u003e核心原理\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-23.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003cp\u003e最后实现一个获取字符串长度的工具类型即可获得最终结果\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e注意: \u003ccode\u003e['a']['length']的值为数组长度, 而 'aa'['length']\u003c/code\u003e 的值为 number\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e所以我们可以将字符串切割为数组, 然后来获取长度.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype Split\u0026#x3C;\n  S extends string,\n  Element extends string = '',\n  ResultArray extends string[] = []\n\u003e = S extends ''\n  ? [...ResultArray, S]\n  : S extends `${infer Left}${Element}${infer Rest}`\n    ? Split\u0026#x3C;Rest, Element, [...ResultArray, Left]\u003e\n    : [...ResultArray, S];\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-24.png\" alt=\"alt\"\u003e\n\u003cimg src=\"/assets/typescript/example-25.png\" alt=\"alt\"\u003e\n\u003cimg src=\"/assets/typescript/example-26.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype GetStringLength\u0026#x3C;S extends string\u003e =  Split\u0026#x3C;S\u003e extends never ? never : Split\u0026#x3C;S\u003e['length']\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e最后结果\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype IndexOf\u0026#x3C;\n  S1 extends string,\n  S2 extends string,\n  Len1 extends number = GetStringLength\u0026#x3C;S1\u003e,\n  Len2 extends number = GetStringLength\u0026#x3C;S2\u003e\n\u003e = Or\u0026#x3C;NumberIsCompare\u0026#x3C;Len1, Len2\u003e, NumberIsEqual\u0026#x3C;Len1, Len2\u003e\u003e extends false\n  ? -1\n  : S1 extends `${infer Left}${S2}${infer Rest}`\n  ? GetStringLength\u0026#x3C;Left\u003e\n  : -1;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-27.png\" alt=\"alt\"\u003e\n\u003cimg src=\"/assets/typescript/example-28.png\" alt=\"alt\"\u003e\n\u003cimg src=\"/assets/typescript/example-29.png\" alt=\"alt\"\u003e\n\u003cimg src=\"/assets/typescript/example-30.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003ch2 id=\"6-实现字符串的-replace-与-replaceall\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#6-实现字符串的-replace-与-replaceall\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e6. 实现字符串的 Replace 与 ReplaceAll\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eReplace\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype Replace\u0026#x3C;\n  Str extends string,\n  MatchStr extends string,\n  ReplaceStr extends string\n\u003e = Str extends `${infer Left}${MatchStr}${infer Rest}`\n  ? `${Left}${ReplaceStr}${Rest}`\n  : Str;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-31.png\" alt=\"alt\"\u003e\n\u003cimg src=\"/assets/typescript/example-32.png\" alt=\"alt\"\u003e\n\u003cimg src=\"/assets/typescript/example-33.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eReplaceAll\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype ReplaceAll\u0026#x3C;\n  Str extends string,\n  MatchStr extends string,\n  ReplaceStr extends string\n\u003e = Str extends `${infer Left}${MatchStr}${infer Rest}`\n  ? Rest extends `${infer Left2}${MatchStr}${infer Rest2}`\n    ? ReplaceAll\u0026#x3C;`${Left}${ReplaceStr}${Rest}`, MatchStr, ReplaceStr\u003e\n    : `${Left}${ReplaceStr}${Rest}`\n  : Str;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/typescript/example-34.png\" alt=\"alt\"\u003e\n\u003cimg src=\"/assets/typescript/example-35.png\" alt=\"alt\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"7-实现类似-vue-的类型支持的简化版本\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#7-实现类似-vue-的类型支持的简化版本\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e7. 实现类似 Vue 的类型支持的简化版本\u003c/h2\u003e\n\u003cp\u003e通过提供一个函数SimpleVue（类似于Vue.extend或defineComponent），它应该正确地推断出 computed 和 methods 内部的this类型。\u003c/p\u003e\n\u003cp\u003e在此挑战中，我们假设SimpleVue接受只带有data，computed和methods字段的Object作为其唯一的参数，\u003c/p\u003e\n\u003cp\u003edata是一个简单的函数，它返回一个提供上下文this的对象，但是你无法在data中获取其他的计算属性或方法。\u003c/p\u003e\n\u003cp\u003ecomputed是将this作为上下文的函数的对象，进行一些计算并返回结果。在上下文中应暴露计算出的值而不是函数。\u003c/p\u003e\n\u003cp\u003emethods是函数的对象，其上下文也为this。函数中可以访问data，computed以及其他methods中的暴露的字段。 computed与methods的不同之处在于methods在上下文中按原样暴露为函数。\u003c/p\u003e\n\u003cp\u003eSimpleVue的返回值类型可以是任意的。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-JavaScript\"\u003econst instance = SimpleVue({\n  data() {\n    return {\n      firstname: 'Type',\n      lastname: 'Challenges',\n      amount: 10,\n    }\n  },\n  computed: {\n    fullname() {\n      return this.firstname + ' ' + this.lastname\n    }\n  },\n  methods: {\n    hi() {\n      alert(this.fullname.toLowerCase())\n    }\n  }\n})\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e实现:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-TypeScript\"\u003etype Computed\u0026#x3C;C extends Record\u0026#x3C;PropertyKey, () =\u003e any\u003e\u003e = {\n  [CK in keyof C]: ReturnType\u0026#x3C;C[CK]\u003e;\n};\n\ntype SimpleVueType\u0026#x3C;D extends Record\u0026#x3C;PropertyKey, any\u003e, C extends Record\u0026#x3C;PropertyKey, any\u003e, M extends Record\u0026#x3C;PropertyKey, any\u003e\u003e = (arg: {\n  data:() =\u003e D;\n  computed:C \u0026#x26; ThisType\u0026#x3C;D\u003e;\n  methods: M \u0026#x26; ThisType\u0026#x3C;D \u0026#x26; M \u0026#x26; Computed\u0026#x3C;C\u003e\u003e;\n}) =\u003e any\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"8-函数柯里化\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#8-函数柯里化\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e8. 函数柯里化\u003c/h2\u003e\n\u003cp\u003eCurrying 是一种将带有多个参数的函数转换为每个带有一个参数的函数序列的技术。\u003c/p\u003e\n\u003cp\u003e例如：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-TypeScript\"\u003econst add = (a: number, b: number) =\u003e a + b\nconst three = add(1, 2)\n\nconst curriedAdd = Currying(add)\nconst five = curriedAdd(2)(3)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e传递给 Currying 的函数可能有多个参数，您需要正确键入它。\n在此挑战中，curried 函数一次仅接受一个参数。分配完所有参数后，它应返回其结果。\u003c/p\u003e\n\u003cp\u003e实现:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-TypeScript\"\u003etype CurryingType\u0026#x3C;T\u003e = T extends (...args: [infer Left, ...infer Rest]) =\u003e infer R\n    ? Rest['length'] extends 0\n        ? T\n        : (arg: Left) =\u003e CurryingType\u0026#x3C;(...args: Rest) =\u003e R\u003e\n    : never\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"9-uniontointersection\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#9-uniontointersection\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e9. UnionToIntersection\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003etype I = Union2Intersection\u0026#x3C;'foo' | 42 | true\u003e // expected to be 'foo' \u0026#x26; 42 \u0026#x26; true\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype UnionToFunction\u0026#x3C;T\u003e = T extends any ? (arg:T) =\u003e void : never;\n\ntype test1 = UnionToFunction\u0026#x3C;\"foo\" | 42 | true\u003e;// (arg: \"foo\") =\u003e void | (arg: 42) =\u003e void | (arg: true) =\u003e void;\n\ntype UnionToIntersection\u0026#x3C;U\u003e = UnionToFunction\u0026#x3C;U\u003e extends (arg:infer T) =\u003e void ? T:never;\n\ntype test2 = UnionToIntersection\u0026#x3C;{a:string} | {b:number} | {c:boolean}\u003e;// {a: string} \u0026#x26; {b: number} \u0026#x26; {c: boolean}\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e解题思路: \u003ca href=\"https://github.com/type-challenges/type-challenges/issues?q=label%3A55+label%3Aanswer+sort%3Areactions-%2B1-desc\"\u003ehttps://github.com/type-challenges/type-challenges/issues?q=label%3A55+label%3Aanswer+sort%3Areactions-%2B1-desc\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"10-getrequired-and-getoptional\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#10-getrequired-and-getoptional\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e10. GetRequired and GetOptional\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype GetRequired\u0026#x3C;T\u003e = {[P in keyof T as T[P] extends Required\u0026#x3C;T\u003e[P] ? P : never]:T[P]}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype GetOptional\u0026#x3C;T\u003e = {[P in keyof T as T[P] extends Required\u0026#x3C;T\u003e[P] ? never : P]:T[P]}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"11-capitalize-words\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#11-capitalize-words\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e11. Capitalize Words\u003c/h2\u003e\n\u003cp\u003eImplement CapitalizeWords which converts the first letter of each word of a string to uppercase and leaves the rest as-is.\u003c/p\u003e\n\u003cp\u003eFor example\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype capitalized = CapitalizeWords\u0026#x3C;'hello world, my friends'\u003e // expected to be 'Hello World, My Friends'\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype CapitalizeRest\u0026#x3C;T\u003e = T extends `${infer Left}${infer Rest}` ? `${Left}${CapitalizeRest\u0026#x3C;Capitalize\u0026#x3C;Left\u003e extends Lowercase\u0026#x3C;Left\u003e ? Capitalize\u0026#x3C;Rest\u003e : Rest\u003e}`\n\n : T;\n\ntype CapitalizeWords\u0026#x3C;S extends string\u003e = Capitalize\u0026#x3C;CapitalizeRest\u0026#x3C;S\u003e\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"12-camelcase\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#12-camelcase\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e12 CamelCase\u003c/h2\u003e\n\u003cp\u003eImplement CamelCase which converts snake_case string to camelCase.\u003c/p\u003e\n\u003cp\u003eFor example\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype camelCase1 = CamelCase\u0026#x3C;'hello_world_with_types'\u003e // expected to be 'helloWorldWithTypes'\ntype camelCase2 = CamelCase\u0026#x3C;'HELLO_WORLD_WITH_TYPES'\u003e // expected to be same as previous one\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype IsGap\u0026#x3C;T extends string\u003e = Uppercase\u0026#x3C;T\u003e extends Lowercase\u0026#x3C;T\u003e ? true : false;\n\ntype CamelCase\u0026#x3C;S extends string\u003e = S extends Lowercase\u0026#x3C;S\u003e\n  ? S extends `${infer L}_${infer C}${infer R}`\n    ? C extends '_'\n      ? `${L}_${CamelCase\u0026#x3C;`_${R}`\u003e}`\n      : `${L}${IsGap\u0026#x3C;C\u003e extends true ? `_${C}` : Uppercase\u0026#x3C;C\u003e}${CamelCase\u0026#x3C;R\u003e}`\n    : S\n  : CamelCase\u0026#x3C;Lowercase\u0026#x3C;S\u003e\u003e;\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"13-c-printf-parser\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#13-c-printf-parser\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e13 C-printf Parser\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003eimport type { Equal, Expect } from '@type-challenges/utils'\n\ntype cases = [\n  Expect\u0026#x3C;Equal\u0026#x3C;ParsePrintFormat\u0026#x3C;''\u003e, []\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ParsePrintFormat\u0026#x3C;'Any string.'\u003e, []\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ParsePrintFormat\u0026#x3C;'The result is %d.'\u003e, ['dec']\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ParsePrintFormat\u0026#x3C;'The result is %%d.'\u003e, []\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ParsePrintFormat\u0026#x3C;'The result is %%%d.'\u003e, ['dec']\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ParsePrintFormat\u0026#x3C;'The result is %f.'\u003e, ['float']\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ParsePrintFormat\u0026#x3C;'The result is %h.'\u003e, ['hex']\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ParsePrintFormat\u0026#x3C;'The result is %q.'\u003e, []\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ParsePrintFormat\u0026#x3C;'Hello %s: score is %d.'\u003e, ['string', 'dec']\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ParsePrintFormat\u0026#x3C;'The result is %'\u003e, []\u003e\u003e,\n]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype ControlsMap = {\n  c: 'char'\n  s: 'string'\n  d: 'dec'\n  o: 'oct'\n  h: 'hex'\n  f: 'float'\n  p: 'pointer'\n}\n\ntype ParsePrintFormat\u0026#x3C;S extends string\u003e = S extends `${infer Start}%${infer Letter}${infer Rest}`\n  ? (Letter extends keyof ControlsMap\n      ? [ControlsMap[Letter], ...ParsePrintFormat\u0026#x3C;Rest\u003e]\n      : ParsePrintFormat\u0026#x3C;Rest\u003e)\n  : []\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"14-typed-get\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#14-typed-get\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e14. Typed Get\u003c/h2\u003e\n\u003cp\u003e实现以下功能的工具类型:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype Data = {\n  foo: {\n    bar: {\n      value: 'foobar',\n      count: 6,\n    },\n    included: true,\n  },\n  hello: 'world'\n}\n  \ntype A = Get\u0026#x3C;Data, 'hello'\u003e // 'world'\ntype B = Get\u0026#x3C;Data, 'foo.bar.count'\u003e // 6\ntype C = Get\u0026#x3C;Data, 'foo.bar'\u003e // { value: 'foobar', count: 6 }\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype Split\u0026#x3C;S extends string, Element extends string = '.'\u003e = S extends ''\n  ? []\n  : S extends `${infer Left}${Element}${infer Rest}`\n  ? [Left, Rest]\n  : [S];\n\ntype Get\u0026#x3C;T, K extends string\u003e = K extends keyof T\n  ? T[K]\n  : Split\u0026#x3C;K\u003e['length'] extends 2\n  ? Split\u0026#x3C;K\u003e[0] extends keyof T\n    ? Split\u0026#x3C;K\u003e[1] extends string\n      ? Get\u0026#x3C;T[Split\u0026#x3C;K\u003e[0]], Split\u0026#x3C;K\u003e[1]\u003e\n      : never\n    : never\n  : never;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"15-string-to-number\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#15-string-to-number\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e15. String to Number\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype cases = [\n  Expect\u0026#x3C;Equal\u0026#x3C;ToNumber\u0026#x3C;'0'\u003e, 0\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ToNumber\u0026#x3C;'5'\u003e, 5\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ToNumber\u0026#x3C;'12'\u003e, 12\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ToNumber\u0026#x3C;'27'\u003e, 27\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ToNumber\u0026#x3C;'18@7_$%'\u003e, never\u003e\u003e,\n]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype ToNumber\u0026#x3C;S extends string\u003e = S extends `${infer N extends number}` ? N : never;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"16-tuple-filter\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#16-tuple-filter\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e16. Tuple Filter\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype cases = [\n  Expect\u0026#x3C;Equal\u0026#x3C;FilterOut\u0026#x3C;[], never\u003e, []\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;FilterOut\u0026#x3C;[never], never\u003e, []\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;FilterOut\u0026#x3C;['a', never], never\u003e, ['a']\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;FilterOut\u0026#x3C;[1, never, 'a'], never\u003e, [1, 'a']\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;FilterOut\u0026#x3C;[never, 1, 'a', undefined, false, null], never | null | undefined\u003e, [1, 'a', false]\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;FilterOut\u0026#x3C;[number | null | undefined, never], never | null | undefined\u003e, [number | null | undefined]\u003e\u003e,\n]\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype FilterOut\u0026#x3C;T extends any[], F\u003e = T extends [infer R, ...infer Rest] ? [R] extends [F] ? FilterOut\u0026#x3C;Rest, F\u003e : [R, ...FilterOut\u0026#x3C;Rest, F\u003e] : []\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"17tuple-to-enum-object\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#17tuple-to-enum-object\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e17.Tuple to Enum Object\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype cases = [\n  Expect\u0026#x3C;Equal\u0026#x3C;Enum\u0026#x3C;[]\u003e, {}\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;\n  Enum\u0026#x3C;typeof OperatingSystem\u003e,\n  {\n    readonly MacOS: 'macOS'\n    readonly Windows: 'Windows'\n    readonly Linux: 'Linux'\n  }\n  \u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;\n  Enum\u0026#x3C;typeof OperatingSystem, true\u003e,\n  {\n    readonly MacOS: 0\n    readonly Windows: 1\n    readonly Linux: 2\n  }\n  \u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;\n  Enum\u0026#x3C;typeof Command\u003e,\n  {\n    readonly Echo: 'echo'\n    readonly Grep: 'grep'\n    readonly Sed: 'sed'\n    readonly Awk: 'awk'\n    readonly Cut: 'cut'\n    readonly Uniq: 'uniq'\n    readonly Head: 'head'\n    readonly Tail: 'tail'\n    readonly Xargs: 'xargs'\n    readonly Shift: 'shift'\n  }\n  \u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;\n  Enum\u0026#x3C;typeof Command, true\u003e,\n  {\n    readonly Echo: 0\n    readonly Grep: 1\n    readonly Sed: 2\n    readonly Awk: 3\n    readonly Cut: 4\n    readonly Uniq: 5\n    readonly Head: 6\n    readonly Tail: 7\n    readonly Xargs: 8\n    readonly Shift: 9\n  }\n  \u003e\u003e,\n]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype TupleKeys\u0026#x3C;T extends readonly unknown[]\u003e = T extends readonly [\n  infer Head,\n  ...infer Tail\n]\n  ? TupleKeys\u0026#x3C;Tail\u003e | Tail[\"length\"]\n  : never;\n\ntype Enum\u0026#x3C;T extends readonly string[], N extends boolean = false\u003e = {\n  readonly [K in TupleKeys\u0026#x3C;T\u003e as Capitalize\u0026#x3C;T[K]\u003e]: N extends true ? K : T[K]\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"18-deep-object-to-unique\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#18-deep-object-to-unique\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e18. Deep object to unique\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype DeepObjectToUniq\u0026#x3C;O extends object\u003e = {\n  [k in keyof O]: O[k] extends object ? DeepObjectToUniq\u0026#x3C;O[k]\u003e \u0026#x26; { [unique: symbol]: [O, k] } : O[k]\n} \u0026#x26; { [unique: symbol]: O }\n\n/* _____________ Test Cases _____________ */\nimport type { Equal, IsFalse, IsTrue } from '@type-challenges/utils'\n\ntype Quz = { quz: 4 }\n\ntype Foo = { foo: 2; baz: Quz; bar: Quz }\ntype Bar = { foo: 2; baz: Quz; bar: Quz \u0026#x26; { quzz?: 0 } }\n\ntype UniqQuz = DeepObjectToUniq\u0026#x3C;Quz\u003e\ntype UniqFoo = DeepObjectToUniq\u0026#x3C;Foo\u003e\ntype UniqBar = DeepObjectToUniq\u0026#x3C;Bar\u003e\n\ndeclare let foo: Foo\ndeclare let uniqFoo: UniqFoo\n\nuniqFoo = foo\nfoo = uniqFoo\n\ntype cases = [\n  IsFalse\u0026#x3C;Equal\u0026#x3C;UniqQuz, Quz\u003e\u003e,\n  IsFalse\u0026#x3C;Equal\u0026#x3C;UniqFoo, Foo\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;UniqFoo['foo'], Foo['foo']\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;UniqFoo['bar']['quz'], Foo['bar']['quz']\u003e\u003e,\n  IsFalse\u0026#x3C;Equal\u0026#x3C;UniqQuz, UniqFoo['baz']\u003e\u003e,\n  IsFalse\u0026#x3C;Equal\u0026#x3C;UniqFoo['bar'], UniqFoo['baz']\u003e\u003e,\n  IsFalse\u0026#x3C;Equal\u0026#x3C;UniqBar['baz'], UniqFoo['baz']\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;keyof UniqBar['baz'], keyof UniqFoo['baz']\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;keyof Foo, keyof UniqFoo \u0026#x26; string\u003e\u003e,\n]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"19-length-of-string-2\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#19-length-of-string-2\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e19. Length of String 2\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype Two\u0026#x3C;S extends string,L extends string = '',R extends string = ''\u003e =\n  S extends `${infer x}${infer xs}`\n    ? xs extends `${infer y}${infer ys}`\n      ? Two\u0026#x3C;ys, `${L}${x}`, `${R}${y}`\u003e\n    : [`${S}${L}`,R]\n  : [L,R];\n\ntype Spread\u0026#x3C;S extends string\u003e =\n  S extends ''\n    ? []\n  : Two\u0026#x3C;S\u003e extends [infer L, ''] ? [L]\n  : Two\u0026#x3C;S\u003e extends [infer L, infer R]\n    ? L extends string\n      ? R extends string\n        ? [...Spread\u0026#x3C;L\u003e, ...Spread\u0026#x3C;R\u003e]\n      : never\n    : never\n  : [];\ntype LengthOfString\u0026#x3C;S extends string\u003e = Spread\u0026#x3C;S\u003e['length'];\n\n/* _____________ Test Cases _____________ */\nimport type { Equal, IsTrue } from '@type-challenges/utils'\n\ntype cases = [\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;''\u003e, 0\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'1'\u003e, 1\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'12'\u003e, 2\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'123'\u003e, 3\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'1234'\u003e, 4\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'12345'\u003e, 5\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'123456'\u003e, 6\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'1234567'\u003e, 7\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'12345678'\u003e, 8\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'123456789'\u003e, 9\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'1234567890'\u003e, 10\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'12345678901'\u003e, 11\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'123456789012'\u003e, 12\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'1234567890123'\u003e, 13\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'12345678901234'\u003e, 14\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'123456789012345'\u003e, 15\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'1234567890123456'\u003e, 16\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'12345678901234567'\u003e, 17\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'123456789012345678'\u003e, 18\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'1234567890123456789'\u003e, 19\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'12345678901234567890'\u003e, 20\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'123456789012345678901'\u003e, 21\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'1234567890123456789012'\u003e, 22\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'12345678901234567890123'\u003e, 23\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'aaaaaaaaaaaaggggggggggggggggggggkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa'\u003e, 272\u003e\u003e,\n  IsTrue\u0026#x3C;Equal\u0026#x3C;LengthOfString\u0026#x3C;'000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000'\u003e, 999\u003e\u003e,\n]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"20-union-to-tuple\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#20-union-to-tuple\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e20. Union to Tuple\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype UnionToIntersection\u0026#x3C;U\u003e = (U extends U ? (x: U) =\u003e unknown : never) extends (\n  x: infer R,\n) =\u003e unknown\n  ? R\n  : never;\n\n// type res = UnionToIntersection\u0026#x3C;{ a: string } | { b: number }\u003e;\n\n/**\n * 并集转元组\n */\ntype UnionToTuple\u0026#x3C;T\u003e = UnionToIntersection\u0026#x3C;\n  T extends any ? () =\u003e T : never\n\u003e extends () =\u003e infer ReturnType\n  ? [...UnionToTuple\u0026#x3C;Exclude\u0026#x3C;T, ReturnType\u003e\u003e, ReturnType]\n  : [];\n\n/* _____________ Test Cases _____________ */\nimport type { Equal, Expect } from '@type-challenges/utils'\n\ntype ExtractValuesOfTuple\u0026#x3C;T extends any[]\u003e = T[keyof T \u0026#x26; number]\n\ntype cases = [\n  Expect\u0026#x3C;Equal\u0026#x3C;UnionToTuple\u0026#x3C;'a' | 'b'\u003e['length'], 2\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ExtractValuesOfTuple\u0026#x3C;UnionToTuple\u0026#x3C;'a' | 'b'\u003e\u003e, 'a' | 'b'\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ExtractValuesOfTuple\u0026#x3C;UnionToTuple\u0026#x3C;'a'\u003e\u003e, 'a'\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ExtractValuesOfTuple\u0026#x3C;UnionToTuple\u0026#x3C;any\u003e\u003e, any\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ExtractValuesOfTuple\u0026#x3C;UnionToTuple\u0026#x3C;undefined | void | 1\u003e\u003e, void | 1\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ExtractValuesOfTuple\u0026#x3C;UnionToTuple\u0026#x3C;any | 1\u003e\u003e, any | 1\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ExtractValuesOfTuple\u0026#x3C;UnionToTuple\u0026#x3C;any | 1\u003e\u003e, any\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ExtractValuesOfTuple\u0026#x3C;UnionToTuple\u0026#x3C;'d' | 'f' | 1 | never\u003e\u003e, 'f' | 'd' | 1\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ExtractValuesOfTuple\u0026#x3C;UnionToTuple\u0026#x3C;[{ a: 1 }] | 1\u003e\u003e, [{ a: 1 }] | 1\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ExtractValuesOfTuple\u0026#x3C;UnionToTuple\u0026#x3C;never\u003e\u003e, never\u003e\u003e,\n  Expect\u0026#x3C;Equal\u0026#x3C;ExtractValuesOfTuple\u0026#x3C;UnionToTuple\u0026#x3C;'a' | 'b' | 'c' | 1 | 2 | 'd' | 'e' | 'f' | 'g'\u003e\u003e, 'f' | 'e' | 1 | 2 | 'g' | 'c' | 'd' | 'a' | 'b'\u003e\u003e,\n]\n\u003c/code\u003e\u003c/pre\u003e","theme":"fancy","tag":["Typescript"]}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"Typescript 体操练习"},"buildId":"Ui9c1tvbCZqwLBXz9Q3na","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>