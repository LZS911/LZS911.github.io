<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/569ce4b8f30dc480-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/afd685b2833157f9.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-6281654836ffc620.js"/><script src="/_next/static/chunks/4bd1b696-66c7c23a79af63cb.js" async=""></script><script src="/_next/static/chunks/684-2dd5576fde2f1aef.js" async=""></script><script src="/_next/static/chunks/main-app-8a63285bca825cb3.js" async=""></script><script src="/_next/static/chunks/874-90f68e0a3827b559.js" async=""></script><script src="/_next/static/chunks/app/error-d036ecfd03716e30.js" async=""></script><script src="/_next/static/chunks/app/not-found-2113bbd7a2f55e8f.js" async=""></script><script src="/_next/static/chunks/app/loading-b73dd9bd22c3caa2.js" async=""></script><script src="/_next/static/chunks/766-dfd76e5b111fda64.js" async=""></script><script src="/_next/static/chunks/app/(article)/layout-120a8801c6045af4.js" async=""></script><script src="/_next/static/chunks/62-abd5adcc4de2f71a.js" async=""></script><script src="/_next/static/chunks/app/(article)/posts/%5Bslug%5D/page-3df7d22b1edb27cc.js" async=""></script><meta name="next-size-adjust" content=""/><title>Ai.Haibara codes</title><meta name="description" content="LZS Blog"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="96x96"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_5cfdac __variable_9a8899 antialiased"><!--$--><html lang="en"><body class="__variable_5cfdac __variable_9a8899 antialiased"><div class="min-h-screen"><header class="text-white bg-black drop-shadow-2xl"><div class="mx-auto my-0 max-w-[960px] py-6 px-4 flex items-center"><div class="flex items-center"><img alt="Ai.Haibara" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class=" rounded-full" style="color:transparent" srcSet="/_next/image?url=%2Fassets%2Fblog%2Fauthors%2Fhaibara_2.jpg&amp;w=128&amp;q=75 1x, /_next/image?url=%2Fassets%2Fblog%2Fauthors%2Fhaibara_2.jpg&amp;w=256&amp;q=75 2x" src="/_next/image?url=%2Fassets%2Fblog%2Fauthors%2Fhaibara_2.jpg&amp;w=256&amp;q=75"/></div><div class="ml-6"><a class=" font-bold text-3xl" href="/">Ai.Haibara codes</a><div class="mt-2"><a class="p-1 rounded-sm text-xl mr-2 hover:border-b-2 border-lime-300" href="/">Home</a><a class="p-1 rounded-sm text-xl mr-2 hover:border-b-2 border-lime-300" href="/projects">Projects</a><a class="p-1 rounded-sm text-xl mr-2 hover:border-b-2 border-lime-300" href="/talks">Talks</a><a class="p-1 rounded-sm text-xl mr-2 hover:border-b-2 border-lime-300" href="/blogs">Blogs</a></div></div></div></header><main class="p-6 flex justify-center"><article><div class="flex justify-center font-[Arial] max-w-[864px] text-center"><h1 class="text-[2.5rem] font-bold bg-lime-300 px-5 py-2 rounded-sm text-shadow-lg leading-[1.1]">Next.js 学习记录</h1></div><time dateTime="2022-09-28" class="text-center block my-4 text-sm opacity-60">September	28, 2022</time><section class="markdown-body-condensed-night-purple max-w-3xl"><p><code>Next.js</code> 是一个 <code>React</code> 应用框架, 使用它可以快速上手开发 <code>React</code> 应用. <code>React</code> 作为一个用来构建 <code>UI</code> 的库, 对于开发一个完整的 <code>React</code> 应用是远远不够的.我们还需要构建、打包和运行等开发工具, 比如使用 <code>Babel</code> 转换使用了新特性的 <code>JavaScript</code> 代码、处理 <code>SASS</code> 和 <code>LESS</code> 样式文件等.开发功能时, 除了构建界面, 还需要处理页面路由、获取服务端数据、管理应用状态等.为了让应用对搜索引擎友好, 最好支持服务端渲染.如果自己从零去安装配置各种开发工具, 需要花费许多时间和精力, 因此 <code>React</code> 官方提供了 <code>Create React App</code>（简称 <code>CRA</code> ）工具来降低上手开发 <code>React</code> 应用的门槛. <code>Next.js</code> 可以看作是 <code>CRA</code> 的升级版.</p>
<h3 id="初始化-nextjs-app"><a aria-hidden="true" tabindex="-1" href="#初始化-nextjs-app"><span class="icon icon-link"></span></a>初始化 Next.js APP</h3>
<p>进入项目文件夹后执行:</p>
<p><code>npx create-next-app Next.js-blog --use-npm --example "https://github.com/vercel/next-learn/tree/master/basics/learn-starter"</code></p>
<p>关于 <code>npx</code>: <a href="https://medium.com/itsems-frontend/whats-npx-e83400efe7f8">https://medium.com/itsems-frontend/whats-npx-e83400efe7f8</a></p>
<p><code>--example "https://github.com/vercel/next-learn/tree/master/basics/learn-starter"</code> 指定链接地址作为初始化项目的模板</p>
<h3 id="项目目录结构"><a aria-hidden="true" tabindex="-1" href="#项目目录结构"><span class="icon icon-link"></span></a>项目目录结构</h3>
<ol>
<li><code>pages</code>(必需):<code>pages</code> 目录是 <code>Next.js</code> 中最重要的一个目录, 这个目录的每一个文件都会对应到每一个页面, 可以根据地址栏的路由进行跳转.若 <code>pages</code> 下的 <code>js</code> 文件在一个目录下, 那么 <code>Next.js</code> 默认会将这个目录也当作路由的路径.</li>
<li><code>components</code>(非必需): <code>components</code> 目录存放的是一些公用的组件, 这些代码不能放在 <code>pages</code> 下, 不然的话就会以页面的形式进行导出.</li>
<li><code>lib</code>(非必需):<code>lib</code> 目录存放一些工具方法, 比如 <code>util</code> 等等.</li>
<li><code>static</code>(非必需):<code>static</code> 目录存放一些静态资源文件.</li>
</ol>
<h3 id="默认文件"><a aria-hidden="true" tabindex="-1" href="#默认文件"><span class="icon icon-link"></span></a>默认文件</h3>
<p><code>index.js</code>: <code>Next.js</code> 的 <code>pages</code> 下默认入口文件, 这个文件会对应浏览器地址栏为根路径的那个页面.</p>
<h3 id="内置组件"><a aria-hidden="true" tabindex="-1" href="#内置组件"><span class="icon icon-link"></span></a>内置组件</h3>
<ol>
<li>
<p><code>Link</code>: 网页中两个页面之间的跳转一般使用 <code>a</code> 标签. 在 <code>Next.js</code> 中, 可以使用 <code>Link</code> 组件 <code>next/link</code> 在应用程序中的页面之间进行链接. <code>Link</code> 允许进行客户端导航并接受一些属性.</p>
<pre><code class="hljs language-JavaScript"><span class="hljs-comment">//index.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Link</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'next/link'</span>;


<span class="hljs-comment">// href="/posts/first-post" : 跳转至 pages 目录下的 posts/first-post.js</span>
<span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"title"</span>></span>
  Read <span class="hljs-tag">&#x3C;<span class="hljs-name">Link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/posts/first-post"</span>></span>this page!<span class="hljs-tag">&#x3C;/<span class="hljs-name">Link</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">h1</span>></span></span>
</code></pre>
<p>在 pages 目录下新建 posts/first-post.js</p>
<pre><code class="hljs language-JavaScript"><span class="hljs-comment">//posts/first-post.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Link</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'next/link'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">FirstPost</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&#x3C;></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">h1</span>></span>First Post<span class="hljs-tag">&#x3C;/<span class="hljs-name">h1</span>></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">h2</span>></span>
        <span class="hljs-tag">&#x3C;<span class="hljs-name">Link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/"</span>></span>Back to home<span class="hljs-tag">&#x3C;/<span class="hljs-name">Link</span>></span>
      <span class="hljs-tag">&#x3C;/<span class="hljs-name">h2</span>></span>
    <span class="hljs-tag">&#x3C;/></span></span>
  );
}
</code></pre>
</li>
<li>
<p><code>Image</code>: 提供对图片资源自动进行优化的功能.</p>
<p>使用常规 HTML 添加个人资料图片如下所示:</p>
<pre><code class="hljs language-HTML">  <span class="hljs-tag">&#x3C;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/images/profile.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Your Name"</span> /></span>
</code></pre>
<p>这种情况下必须手动处理:</p>
<ul>
<li>确保您的图像在不同的屏幕尺寸上响应</li>
<li>使用第三方工具或库优化您的图像</li>
<li>仅在图像进入视口时加载图像</li>
</ul>
<p>使用图像组件</p>
<pre><code class="hljs language-JavaScript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Image</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'next/image'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">YourComponent</span> = (<span class="hljs-params"></span>) => (
  <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">Image</span>
    <span class="hljs-attr">src</span>=<span class="hljs-string">"/images/profile.jpg"</span> // <span class="hljs-attr">Route</span> <span class="hljs-attr">of</span> <span class="hljs-attr">the</span> <span class="hljs-attr">image</span> <span class="hljs-attr">file</span>
    <span class="hljs-attr">height</span>=<span class="hljs-string">{144}</span> // <span class="hljs-attr">Desired</span> <span class="hljs-attr">size</span> <span class="hljs-attr">with</span> <span class="hljs-attr">correct</span> <span class="hljs-attr">aspect</span> <span class="hljs-attr">ratio</span>
    <span class="hljs-attr">width</span>=<span class="hljs-string">{144}</span> // <span class="hljs-attr">Desired</span> <span class="hljs-attr">size</span> <span class="hljs-attr">with</span> <span class="hljs-attr">correct</span> <span class="hljs-attr">aspect</span> <span class="hljs-attr">ratio</span>
    <span class="hljs-attr">alt</span>=<span class="hljs-string">"Your Name"</span>
  /></span></span>
);
</code></pre>
<p><code>Next.js</code> 不是在构建时优化图像, 而是在用户请求时按需优化图像.与静态站点生成器和纯静态解决方案不同, 构建时间不会增加, 无论是发送 10 个图像还是 1000 万个图像.</p>
<p>默认情况下, 图像是延迟加载的.这意味着您的页面速度不会因视口之外的图像而受到惩罚.图像在滚动到视口时加载.</p>
</li>
<li>
<p><code>Head</code>: 代替 <code>Html5</code> 中的 <code>&#x3C;head></code> 标签</p>
<pre><code class="hljs language-Html"> <span class="hljs-tag">&#x3C;<span class="hljs-name">Head</span>></span>
   <span class="hljs-tag">&#x3C;<span class="hljs-name">title</span>></span>Create Next App<span class="hljs-tag">&#x3C;/<span class="hljs-name">title</span>></span>
   <span class="hljs-tag">&#x3C;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"icon"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/favicon.ico"</span> /></span>
 <span class="hljs-tag">&#x3C;/<span class="hljs-name">Head</span>></span>
</code></pre>
</li>
</ol>
<h3 id="关于-css"><a aria-hidden="true" tabindex="-1" href="#关于-css"><span class="icon icon-link"></span></a>关于 CSS</h3>
<ol>
<li>
<p><code>css</code> 模块. <code>css</code> 模块允许通过自动创建唯一的类名来在组件级别本地限定 <code>css</code>. 这允许您在不同的文件中使用相同的 <code>css</code> 类名, 而不必担心类名冲突</p>
<p><code>utils.module.cs</code></p>
<pre><code class="hljs language-css"><span class="hljs-selector-class">.maxW100</span>{
  <span class="hljs-attribute">max-width</span>:<span class="hljs-number">100rem</span>;
}
``
pages/index<span class="hljs-selector-class">.j</span>
```jsx
import utilStyles <span class="hljs-selector-tag">from</span> "../styles/utils<span class="hljs-selector-class">.module</span><span class="hljs-selector-class">.css</span>";

&#x3C;<span class="hljs-selector-tag">div</span> className={utilStyles<span class="hljs-selector-class">.maxW100</span>}>test style&#x3C;/<span class="hljs-selector-tag">div</span>>
``

</code></pre>
</li>
<li>
<p>通过其他方式来设置 <code>Next.js</code> 应用程序的样式</p>
<ul>
<li><code>SASS</code></li>
<li><code>PostCss</code> 库, 例如 <a href="https://tailwindcss.com/docs/installation">TailwindCss</a></li>
<li><code>CSS-in-JS</code> 库, 例如 <a href="https://nextjs.org/blog/styling-next-with-styled-jsx">styled-jsx</a>、<a href="https://styled-components.com/">styled-components</a> 和 [Emotion](<a href="https://github.com/emotion-js/emotion">https://github.com/emotion-js/emotion</a></li>
</ul>
</li>
<li>
<p>添加全局样式时, 需要创建一个名为 <code>pages/_app.js</code> 的文件, 其内容如下</p>
<pre><code class="hljs language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-string">'../styles/global.css'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params">{ Component, pageProps }</span>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">Component</span> {<span class="hljs-attr">...pageProps</span>} /></span></span>;
}
</code></pre>
<p>该 <code>App</code> 组件是所有不同页面通用的顶级组件.</p>
</li>
</ol>
<h3 id="预渲染与数据获取"><a aria-hidden="true" tabindex="-1" href="#预渲染与数据获取"><span class="icon icon-link"></span></a>预渲染与数据获取</h3>
<ol>
<li>
<p><code>Next.js</code> 的预渲染功能</p>
<ul>
<li>
<p>什么是预渲染</p>
<p>默认情况下, <code>Next.js</code> 预渲染每个页面.这意味着 <code>Next.js</code> 会提前为每个页面生成 <code>HTML</code>, 而不是全部由客户端 <code>JavaScript</code> 完成.预渲染可以带来更好的性能和 <a href="https://zh.wikipedia.org/wiki/%E6%90%9C%E5%B0%8B%E5%BC%95%E6%93%8E%E6%9C%80%E4%BD%B3%E5%8C%96">SEO</a>.</p>
<p>每个生成的 HTML 都与该页面所需的最少 <code>JavaScript</code> 代码相关联.当浏览器加载页面时, 其 <code>JavaScript</code> 代码将运行并使页面完全交互.(这个过程称为水合作用.)</p>
</li>
<li>
<p>两种形式的预渲染</p>
<ol>
<li><code>SSR</code>: 服务器端渲染是在每个请求上生成 <code>HTML</code> 的预渲染方法.</li>
<li><code>SSG</code>: 静态生成是在构建时生成 <code>HTML</code> 的预渲染方法.然后在每个请求上重用预呈现的 HTML</li>
</ol>
</li>
<li>
<p><code>SSG</code>: 静态生成
<code>Next.js</code> 提供了 <code>getStaticProps</code> 这样一个方法, 将其定义在需要获取数据的页面组件中, 并将其导出.
两个注意点:</p>
<ol>
<li><code>dev</code> 环境中, <code>getStaticProps</code> 会在每一个请求上运行, <code>product</code> 环境会在构建时运行</li>
<li>在函数内部可以获取外部的数据并将其以 <code>props</code> 的形式传递至组件中</li>
</ol>
<pre><code class="hljs language-jsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Home</span> = (<span class="hljs-params">props</span>) => { ... }
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getStaticProps</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> data = [];

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">props</span>: data
  }
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Home</span>
</code></pre>
</li>
<li>
<p><code>SSR</code>: 服务端渲染
如果需要在请求时而不是构建时获取数据, 可以使用服务端渲染. <code>Next.js</code> 同样提供了一个名为 <code>getServerSideProps</code> 的函数.</p>
<pre><code class="hljs language-JavaScript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getServerSideProps</span> = (<span class="hljs-params">context</span>) => {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">props</span>:{}
  }
}
</code></pre>
<p>因为 <code>getServerSideProps</code> 是在请求时调用的, 所以它的参数 <code>context</code> 包含了请求特定的参数.</p>
</li>
</ul>
</li>
</ol></section></article><!--$--><!--/$--><!--$--><!--/$--></main><footer class="bg-neutral-50 border-t border-neutral-200 text-center text-xs opacity-50 py-4">© 2022 - <!-- -->2025<a rel="noopener noreferrer" class="hover:underline hover:bg-indigo" href="https://github.com/LZS911" target="_blank">, LZS_911</a>, build with<!-- --> <a rel="noopener noreferrer" class="underline hover:bg-indigo" href="https://nextjs.org/" target="_blank">Next.js</a> <!-- -->and<!-- --> <a rel="noopener noreferrer" class="underline hover:bg-indigo" href="https://pages.github.com/?(null)" target="_blank">GitHub Pages</a></footer></div><!--/$--><script src="/_next/static/chunks/webpack-6281654836ffc620.js" async=""></script></body></html><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[7555,[],\"\"]\n3:I[1901,[\"874\",\"static/chunks/874-90f68e0a3827b559.js\",\"39\",\"static/chunks/app/error-d036ecfd03716e30.js\"],\"default\"]\n4:I[1295,[],\"\"]\n5:I[9543,[\"874\",\"static/chunks/874-90f68e0a3827b559.js\",\"345\",\"static/chunks/app/not-found-2113bbd7a2f55e8f.js\"],\"default\"]\n8:I[9665,[],\"MetadataBoundary\"]\na:I[9665,[],\"OutletBoundary\"]\nd:I[4911,[],\"AsyncMetadataOutlet\"]\nf:I[8460,[\"209\",\"static/chunks/app/loading-b73dd9bd22c3caa2.js\"],\"default\"]\n10:I[9665,[],\"ViewportBoundary\"]\n12:I[6614,[],\"\"]\n:HL[\"/_next/static/media/569ce4b8f30dc480-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/afd685b2833157f9.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"VQMikkFLjz8rKFgMU-oOZ\",\"p\":\"\",\"c\":[\"\",\"posts\",\"Next.js%20%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"(article)\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"Next.js%20%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/afd685b2833157f9.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_5cfdac __variable_9a8899 antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$3\",\"errorStyles\":[],\"errorScripts\":[],\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"$L5\",null,{}],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[\"(article)\",[\"$\",\"$1\",\"c\",{\"children\":[null,\"$L6\"]}],{\"children\":[\"posts\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"Next.js%20%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L7\",[\"$\",\"$L8\",null,{\"children\":\"$L9\"}],null,[\"$\",\"$La\",null,{\"children\":[\"$Lb\",\"$Lc\",[\"$\",\"$Ld\",null,{\"promise\":\"$@e\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false]},[[\"$\",\"$Lf\",\"l\",{}],[],[]],false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"jtcNZ3cVTWhZyD9lek4Gr\",{\"children\":[[\"$\",\"$L10\",null,{\"children\":\"$L11\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$12\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"13:I[4467,[\"874\",\"static/chunks/874-90f68e0a3827b559.js\",\"766\",\"static/chunks/766-dfd76e5b111fda64.js\",\"651\",\"static/chunks/app/(article)/layout-120a8801c6045af4.js\"],\"default\"]\n14:\"$Sreact.suspense\"\n15:I[4911,[],\"AsyncMetadata\"]\n6:[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_5cfdac __variable_9a8899 antialiased\",\"children\":[[\"$\",\"div\",null,{\"className\":\"min-h-screen\",\"children\":[[\"$\",\"$L13\",null,{}],[\"$\",\"main\",null,{\"className\":\"p-6 flex justify-center\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"footer\",null,{\"className\":\"bg-neutral-50 border-t border-neutral-200 text-center text-xs opacity-50 py-4\",\"children\":[\"© 2022 - \",2025,[\"$\",\"a\",null,{\"rel\":\"noopener noreferrer\",\"className\":\"hover:underline hover:bg-indigo\",\"href\":\"https://github.com/LZS911\",\"target\":\"_blank\",\"children\":\", LZS_911\"}],\", build with\",\" \",[\"$\",\"a\",null,{\"rel\":\"noopener noreferrer\",\"className\":\"underline hover:bg-indigo\",\"href\":\"https://nextjs.org/\",\"target\":\"_blank\",\"children\":\"Next.js\"}],\" \",\"and\",\" \",[\"$\",\"a\",null,{\"rel\":\"noopener noreferrer\",\"className\":\"underline hover:bg-indigo\",\"href\":\"https://pages.github.com/?(null)\",\"target\":\"_blank\",\"children\":\"GitHub Pages\"}]]}]]}],false]}]}]\n9:[\"$\",\"$14\",null,{\"fallback\":null,\"children\":[\"$\",\"$L15\",null,{\"promise\":\"$@16\"}]}]\n"])</script><script>self.__next_f.push([1,"c:null\n"])</script><script>self.__next_f.push([1,"17:I[5099,[\"766\",\"static/chunks/766-dfd76e5b111fda64.js\",\"62\",\"static/chunks/62-abd5adcc4de2f71a.js\",\"520\",\"static/chunks/app/(article)/posts/%5Bslug%5D/page-3df7d22b1edb27cc.js\"],\"ThemeLoader\"]\n18:T3790,"])</script><script>self.__next_f.push([1,"\u003cp\u003e\u003ccode\u003eNext.js\u003c/code\u003e 是一个 \u003ccode\u003eReact\u003c/code\u003e 应用框架, 使用它可以快速上手开发 \u003ccode\u003eReact\u003c/code\u003e 应用. \u003ccode\u003eReact\u003c/code\u003e 作为一个用来构建 \u003ccode\u003eUI\u003c/code\u003e 的库, 对于开发一个完整的 \u003ccode\u003eReact\u003c/code\u003e 应用是远远不够的.我们还需要构建、打包和运行等开发工具, 比如使用 \u003ccode\u003eBabel\u003c/code\u003e 转换使用了新特性的 \u003ccode\u003eJavaScript\u003c/code\u003e 代码、处理 \u003ccode\u003eSASS\u003c/code\u003e 和 \u003ccode\u003eLESS\u003c/code\u003e 样式文件等.开发功能时, 除了构建界面, 还需要处理页面路由、获取服务端数据、管理应用状态等.为了让应用对搜索引擎友好, 最好支持服务端渲染.如果自己从零去安装配置各种开发工具, 需要花费许多时间和精力, 因此 \u003ccode\u003eReact\u003c/code\u003e 官方提供了 \u003ccode\u003eCreate React App\u003c/code\u003e（简称 \u003ccode\u003eCRA\u003c/code\u003e ）工具来降低上手开发 \u003ccode\u003eReact\u003c/code\u003e 应用的门槛. \u003ccode\u003eNext.js\u003c/code\u003e 可以看作是 \u003ccode\u003eCRA\u003c/code\u003e 的升级版.\u003c/p\u003e\n\u003ch3 id=\"初始化-nextjs-app\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#初始化-nextjs-app\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e初始化 Next.js APP\u003c/h3\u003e\n\u003cp\u003e进入项目文件夹后执行:\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003enpx create-next-app Next.js-blog --use-npm --example \"https://github.com/vercel/next-learn/tree/master/basics/learn-starter\"\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e关于 \u003ccode\u003enpx\u003c/code\u003e: \u003ca href=\"https://medium.com/itsems-frontend/whats-npx-e83400efe7f8\"\u003ehttps://medium.com/itsems-frontend/whats-npx-e83400efe7f8\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e--example \"https://github.com/vercel/next-learn/tree/master/basics/learn-starter\"\u003c/code\u003e 指定链接地址作为初始化项目的模板\u003c/p\u003e\n\u003ch3 id=\"项目目录结构\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#项目目录结构\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e项目目录结构\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003epages\u003c/code\u003e(必需):\u003ccode\u003epages\u003c/code\u003e 目录是 \u003ccode\u003eNext.js\u003c/code\u003e 中最重要的一个目录, 这个目录的每一个文件都会对应到每一个页面, 可以根据地址栏的路由进行跳转.若 \u003ccode\u003epages\u003c/code\u003e 下的 \u003ccode\u003ejs\u003c/code\u003e 文件在一个目录下, 那么 \u003ccode\u003eNext.js\u003c/code\u003e 默认会将这个目录也当作路由的路径.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ecomponents\u003c/code\u003e(非必需): \u003ccode\u003ecomponents\u003c/code\u003e 目录存放的是一些公用的组件, 这些代码不能放在 \u003ccode\u003epages\u003c/code\u003e 下, 不然的话就会以页面的形式进行导出.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003elib\u003c/code\u003e(非必需):\u003ccode\u003elib\u003c/code\u003e 目录存放一些工具方法, 比如 \u003ccode\u003eutil\u003c/code\u003e 等等.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003estatic\u003c/code\u003e(非必需):\u003ccode\u003estatic\u003c/code\u003e 目录存放一些静态资源文件.\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"默认文件\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#默认文件\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e默认文件\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003eindex.js\u003c/code\u003e: \u003ccode\u003eNext.js\u003c/code\u003e 的 \u003ccode\u003epages\u003c/code\u003e 下默认入口文件, 这个文件会对应浏览器地址栏为根路径的那个页面.\u003c/p\u003e\n\u003ch3 id=\"内置组件\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#内置组件\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e内置组件\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eLink\u003c/code\u003e: 网页中两个页面之间的跳转一般使用 \u003ccode\u003ea\u003c/code\u003e 标签. 在 \u003ccode\u003eNext.js\u003c/code\u003e 中, 可以使用 \u003ccode\u003eLink\u003c/code\u003e 组件 \u003ccode\u003enext/link\u003c/code\u003e 在应用程序中的页面之间进行链接. \u003ccode\u003eLink\u003c/code\u003e 允许进行客户端导航并接受一些属性.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-JavaScript\"\u003e\u003cspan class=\"hljs-comment\"\u003e//index.js\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eLink\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'next/link'\u003c/span\u003e;\n\n\n\u003cspan class=\"hljs-comment\"\u003e// href=\"/posts/first-post\" : 跳转至 pages 目录下的 posts/first-post.js\u003c/span\u003e\n\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"title\"\u003c/span\u003e\u003e\u003c/span\u003e\n  Read \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eLink\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"/posts/first-post\"\u003c/span\u003e\u003e\u003c/span\u003ethis page!\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eLink\u003c/span\u003e\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e在 pages 目录下新建 posts/first-post.js\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-JavaScript\"\u003e\u003cspan class=\"hljs-comment\"\u003e//posts/first-post.js\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eLink\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'next/link'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eFirstPost\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003e\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e\u003e\u003c/span\u003eFirst Post\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e\u003e\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eh2\u003c/span\u003e\u003e\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eLink\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"/\"\u003c/span\u003e\u003e\u003c/span\u003eBack to home\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eLink\u003c/span\u003e\u003e\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eh2\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003e\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eImage\u003c/code\u003e: 提供对图片资源自动进行优化的功能.\u003c/p\u003e\n\u003cp\u003e使用常规 HTML 添加个人资料图片如下所示:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-HTML\"\u003e  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eimg\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003esrc\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"/images/profile.jpg\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ealt\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"Your Name\"\u003c/span\u003e /\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e这种情况下必须手动处理:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e确保您的图像在不同的屏幕尺寸上响应\u003c/li\u003e\n\u003cli\u003e使用第三方工具或库优化您的图像\u003c/li\u003e\n\u003cli\u003e仅在图像进入视口时加载图像\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e使用图像组件\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-JavaScript\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eImage\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'next/image'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eYourComponent\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u003e (\n  \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eImage\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003esrc\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"/images/profile.jpg\"\u003c/span\u003e // \u003cspan class=\"hljs-attr\"\u003eRoute\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eof\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ethe\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eimage\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003efile\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eheight\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{144}\u003c/span\u003e // \u003cspan class=\"hljs-attr\"\u003eDesired\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003esize\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ewith\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ecorrect\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003easpect\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eratio\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003ewidth\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{144}\u003c/span\u003e // \u003cspan class=\"hljs-attr\"\u003eDesired\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003esize\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ewith\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ecorrect\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003easpect\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eratio\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003ealt\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"Your Name\"\u003c/span\u003e\n  /\u003e\u003c/span\u003e\u003c/span\u003e\n);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003eNext.js\u003c/code\u003e 不是在构建时优化图像, 而是在用户请求时按需优化图像.与静态站点生成器和纯静态解决方案不同, 构建时间不会增加, 无论是发送 10 个图像还是 1000 万个图像.\u003c/p\u003e\n\u003cp\u003e默认情况下, 图像是延迟加载的.这意味着您的页面速度不会因视口之外的图像而受到惩罚.图像在滚动到视口时加载.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eHead\u003c/code\u003e: 代替 \u003ccode\u003eHtml5\u003c/code\u003e 中的 \u003ccode\u003e\u0026#x3C;head\u003e\u003c/code\u003e 标签\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-Html\"\u003e \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eHead\u003c/span\u003e\u003e\u003c/span\u003e\n   \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u003e\u003c/span\u003eCreate Next App\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u003e\u003c/span\u003e\n   \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003elink\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003erel\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"icon\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"/favicon.ico\"\u003c/span\u003e /\u003e\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eHead\u003c/span\u003e\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"关于-css\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#关于-css\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e关于 CSS\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ecss\u003c/code\u003e 模块. \u003ccode\u003ecss\u003c/code\u003e 模块允许通过自动创建唯一的类名来在组件级别本地限定 \u003ccode\u003ecss\u003c/code\u003e. 这允许您在不同的文件中使用相同的 \u003ccode\u003ecss\u003c/code\u003e 类名, 而不必担心类名冲突\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eutils.module.cs\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-css\"\u003e\u003cspan class=\"hljs-selector-class\"\u003e.maxW100\u003c/span\u003e{\n  \u003cspan class=\"hljs-attribute\"\u003emax-width\u003c/span\u003e:\u003cspan class=\"hljs-number\"\u003e100rem\u003c/span\u003e;\n}\n``\npages/index\u003cspan class=\"hljs-selector-class\"\u003e.j\u003c/span\u003e\n```jsx\nimport utilStyles \u003cspan class=\"hljs-selector-tag\"\u003efrom\u003c/span\u003e \"../styles/utils\u003cspan class=\"hljs-selector-class\"\u003e.module\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.css\u003c/span\u003e\";\n\n\u0026#x3C;\u003cspan class=\"hljs-selector-tag\"\u003ediv\u003c/span\u003e className={utilStyles\u003cspan class=\"hljs-selector-class\"\u003e.maxW100\u003c/span\u003e}\u003etest style\u0026#x3C;/\u003cspan class=\"hljs-selector-tag\"\u003ediv\u003c/span\u003e\u003e\n``\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e通过其他方式来设置 \u003ccode\u003eNext.js\u003c/code\u003e 应用程序的样式\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eSASS\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ePostCss\u003c/code\u003e 库, 例如 \u003ca href=\"https://tailwindcss.com/docs/installation\"\u003eTailwindCss\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eCSS-in-JS\u003c/code\u003e 库, 例如 \u003ca href=\"https://nextjs.org/blog/styling-next-with-styled-jsx\"\u003estyled-jsx\u003c/a\u003e、\u003ca href=\"https://styled-components.com/\"\u003estyled-components\u003c/a\u003e 和 [Emotion](\u003ca href=\"https://github.com/emotion-js/emotion\"\u003ehttps://github.com/emotion-js/emotion\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e添加全局样式时, 需要创建一个名为 \u003ccode\u003epages/_app.js\u003c/code\u003e 的文件, 其内容如下\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-jsx\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'../styles/global.css'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eApp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e{ Component, pageProps }\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eComponent\u003c/span\u003e {\u003cspan class=\"hljs-attr\"\u003e...pageProps\u003c/span\u003e} /\u003e\u003c/span\u003e\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e该 \u003ccode\u003eApp\u003c/code\u003e 组件是所有不同页面通用的顶级组件.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"预渲染与数据获取\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#预渲染与数据获取\"\u003e\u003cspan class=\"icon icon-link\"\u003e\u003c/span\u003e\u003c/a\u003e预渲染与数据获取\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eNext.js\u003c/code\u003e 的预渲染功能\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e什么是预渲染\u003c/p\u003e\n\u003cp\u003e默认情况下, \u003ccode\u003eNext.js\u003c/code\u003e 预渲染每个页面.这意味着 \u003ccode\u003eNext.js\u003c/code\u003e 会提前为每个页面生成 \u003ccode\u003eHTML\u003c/code\u003e, 而不是全部由客户端 \u003ccode\u003eJavaScript\u003c/code\u003e 完成.预渲染可以带来更好的性能和 \u003ca href=\"https://zh.wikipedia.org/wiki/%E6%90%9C%E5%B0%8B%E5%BC%95%E6%93%8E%E6%9C%80%E4%BD%B3%E5%8C%96\"\u003eSEO\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003e每个生成的 HTML 都与该页面所需的最少 \u003ccode\u003eJavaScript\u003c/code\u003e 代码相关联.当浏览器加载页面时, 其 \u003ccode\u003eJavaScript\u003c/code\u003e 代码将运行并使页面完全交互.(这个过程称为水合作用.)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e两种形式的预渲染\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003eSSR\u003c/code\u003e: 服务器端渲染是在每个请求上生成 \u003ccode\u003eHTML\u003c/code\u003e 的预渲染方法.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eSSG\u003c/code\u003e: 静态生成是在构建时生成 \u003ccode\u003eHTML\u003c/code\u003e 的预渲染方法.然后在每个请求上重用预呈现的 HTML\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eSSG\u003c/code\u003e: 静态生成\n\u003ccode\u003eNext.js\u003c/code\u003e 提供了 \u003ccode\u003egetStaticProps\u003c/code\u003e 这样一个方法, 将其定义在需要获取数据的页面组件中, 并将其导出.\n两个注意点:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003edev\u003c/code\u003e 环境中, \u003ccode\u003egetStaticProps\u003c/code\u003e 会在每一个请求上运行, \u003ccode\u003eproduct\u003c/code\u003e 环境会在构建时运行\u003c/li\u003e\n\u003cli\u003e在函数内部可以获取外部的数据并将其以 \u003ccode\u003eprops\u003c/code\u003e 的形式传递至组件中\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-jsx\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eHome\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003eprops\u003c/span\u003e) =\u003e { ... }\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003egetStaticProps\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e data = [];\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n    \u003cspan class=\"hljs-attr\"\u003eprops\u003c/span\u003e: data\n  }\n}\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eHome\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eSSR\u003c/code\u003e: 服务端渲染\n如果需要在请求时而不是构建时获取数据, 可以使用服务端渲染. \u003ccode\u003eNext.js\u003c/code\u003e 同样提供了一个名为 \u003ccode\u003egetServerSideProps\u003c/code\u003e 的函数.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-JavaScript\"\u003e\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003egetServerSideProps\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003econtext\u003c/span\u003e) =\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n    \u003cspan class=\"hljs-attr\"\u003eprops\u003c/span\u003e:{}\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e因为 \u003ccode\u003egetServerSideProps\u003c/code\u003e 是在请求时调用的, 所以它的参数 \u003ccode\u003econtext\u003c/code\u003e 包含了请求特定的参数.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e"])</script><script>self.__next_f.push([1,"7:[\"$\",\"article\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"flex justify-center font-[Arial] max-w-[864px] text-center\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-[2.5rem] font-bold bg-lime-300 px-5 py-2 rounded-sm text-shadow-lg leading-[1.1]\",\"children\":\"Next.js 学习记录\"}]}],[\"$\",\"time\",null,{\"dateTime\":\"2022-09-28\",\"className\":\"text-center block my-4 text-sm opacity-60\",\"children\":\"September\\t28, 2022\"}],[null,[\"$\",\"$L17\",null,{\"theme\":\"condensed-night-purple\"}],[\"$\",\"section\",null,{\"className\":\"markdown-body-condensed-night-purple max-w-3xl\",\"dangerouslySetInnerHTML\":{\"__html\":\"$18\"}}]],null]}]\n"])</script><script>self.__next_f.push([1,"11:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nb:null\n"])</script><script>self.__next_f.push([1,"16:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Ai.Haibara codes\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"LZS Blog\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"96x96\"}]],\"error\":null,\"digest\":\"$undefined\"}\ne:{\"metadata\":\"$16:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>